{"version":3,"sources":["Redux/Dialogs-reducer.js","components/Aside/Aside.module.css","components/Profile/MyPosts/Posts/Post/Post.module.css","components/Profile/MyPosts/Posts/Posts.module.css","components/Profile/ProfileInformation/ProfileStatus/StatusForm/StatusForm.module.css","components/common/Paginator/Paginator.module.css","components/Users/UsersList/User/User.module.css","components/Users/UsersList/User/UserPresent/FollowButton/FollowButton.module.css","components/Users/UsersList/UsersList.module.css","components/Login/LoginForm/LoginForm.module.css","components/Profile/ProfileInformation/ProfileStatus/ProfileStatus.module.css","components/Profile/ProfileInformation/ProfileInfForm/Checkboxes/Checkboxes.module.css","utils/vallidators/validators.js","components/Aside/Friends/Friend/Friend.jsx","components/Aside/Friends/Friends.jsx","components/Aside/Pages/Pages.jsx","components/Aside/Aside.jsx","components/Header/Header.jsx","api/api.js","Redux/Auth-reducer.js","components/Header/HeaderContainer.jsx","components/common/FormsControls/FormsControls.js","components/Login/LoginForm/LoginForm.jsx","components/Login/Login.jsx","components/Profile/MyPosts/Posts/Post/Post.jsx","components/Profile/MyPosts/Posts/Posts.jsx","components/Profile/MyPosts/NewPost/NewPost.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/ProfileInformation/ProfileStatus/StatusForm/StatusForm.jsx","components/Profile/ProfileInformation/ProfileStatus/ProfileStatusWithHooks.jsx","assets/images/1473.gif","components/common/Preloader/Preloader.js","components/Profile/ProfileInformation/ProfileInfForm/Checkboxes/Checkboxes.jsx","components/Profile/ProfileInformation/ProfileInfForm/ProfileInfForm.jsx","components/Profile/ProfileInformation/ProfileInformation.jsx","components/Profile/Profile.jsx","Redux/Users-reducer.js","Redux/users-reselect.js","components/common/Paginator/Paginator.jsx","components/Users/UsersList/User/UserInf/UserInf.jsx","components/Users/UsersList/User/UserPresent/FollowButton/FollowButton.jsx","components/Users/UsersList/User/UserPresent/UserPresent.jsx","components/Users/UsersList/User/User.jsx","components/Users/UsersList/UsersList.jsx","components/Users/UsersList/UsersListContainer.jsx","components/Users/Users.jsx","Redux/App-reducer.js","Redux/Profile-reducer.js","Redux/Profile-reselect.js","components/Profile/ProfileContainer.jsx","Redux/Aside-reducer.js","Redux/redux-store.js","App.js","hoc/WithSuspense.js","reportWebVitals.js","index.js","components/Profile/ProfileInformation/ProfileInfForm/ProfileInfForm.module.css","components/Users/UsersList/User/UserInf/UserInf.module.css","components/Profile/ProfileInformation/ProfileInformation.module.css","components/Header/Header.module.css","components/common/FormsControls/FormsControls.module.css","hoc/AuthRedirect.js","components/Aside/Friends/Friend/Friend.module.css","components/Aside/Friends/Friends.module.css","components/Aside/Pages/Pages.module.css","components/Users/Users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/NewPost/NewPost.module.css","components/Users/UsersList/User/UserPresent/UserPresent.module.css"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","belong","addMessage","newMessageBody","type","dialogsReducer","state","action","newMessage","length","stateCopy","module","exports","maxLength","Friend","props","className","s","friend","friendImage","friendName","Friends","friends","friendsTitle","friendsList","map","Pages","items","pages","page","item","to","NavLink","activeClassName","active","compose","connect","asideReducer","aside","Header","header","loginContainer","login","isAuth","logout","onClick","LogoutUser","instance","axios","create","baseURL","withCredentials","headers","UsersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowUser","delete","followUser","post","AuthAPI","email","password","rememberMe","ProfileAPI","status","put","image","inf","SET_USER_DATA","RE_AUTH_USER","userId","setAuthUserData","authReducer","AuthMe","dispatch","a","LoginUser","remembeMe","resultCode","errorMessage","stopSubmit","_error","HeaderContainer","this","React","Component","auth","required","value","Element","input","meta","hasError","error","touched","textAreaContainer","textArea","errorDescription","Input","LoginReduxForm","reduxForm","form","handleSubmit","formContainer","onSubmit","inputField","Field","validate","placeholder","component","formSummaryError","remember","submit","userid","formData","Post","src","likesCount","Posts","posts","maxLength50","TextArea","NewPostReduxForm","newPost","newPostAddNews","MyPosts","memo","myPosts","myPosts__title","isOwner","addPost","bind","submitted","initialValues","profileReducer","enableReinitialize","statusForm","autoFocus","ProfileStatusWithHooks","useState","editMode","setEditMode","onDoubleClick","updateProfileStatus","myId","Preloader","preloader","Checkboxes","checked","LookingForAJobFormValue","change","Contact","contactTitlle","contactValue","selector","formValueSelector","fullName","profileInformation","aboutMe","lookingForAJob","lookingForAJobDescription","github","contacts","vk","facebook","instagram","twitter","website","youtube","mainLink","profileInformation__text","text","text__name","text_item","Object","entries","index","e","preventDefault","UserAvatar","photos","large","ProfileInformation","avatar_field","avatar_photo","profilePhotoIsFetching","toggleProfilePhotoIsFetching","avatar_settings","avatar_changePhoto","onChange","target","files","updateProfilePhotos","newProfileInformation","small","updateProfileInf","Profile","updateNewPost","CHANGE_FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","users","maxPagesToShowCount","totalUsersCount","isFetching","isFollowingInProgress","changeFollowStatus","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","usersReducer","user","followed","filter","createSelector","usersPage","u","getMaxPagesToShowCount","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowingInProgress","Paginator","pagesToShowCount","startPageNumber","changeStartPageNumber","pagesCount","Math","ceil","totalItemsCount","maxItemsCount","min","max","i","push","addingPages","selectedPage","onPageChanged","deductingPages","UserInf","userInf","headInf","userFullName","userStatus","userLocation","userLocationCity","userLocationCountry","FollowButton","disabled","some","changeFollow","userFollowed","UserPresent","userPresent","userAvatar","User","buttons","setButton","UsersList","usersList","followStatus","apiMethod","requestUsers","totalCount","withAuthRedirect","useEffect","pageNumber","Users","usersTitle","usersBody","SET_INITIALIZE","initialized","appReducer","ADD_POST","SET_PROFILE_INFORMATION","SET_PROFILE_STATUS","DELETE_POST","SET_PROFILE_PHOTOS","TOGGLE_PROFILE_PHOTO_IS_FETCHING","setProfileStatus","setProfileInformation","newPostText","p","postId","images","getProfilePhotos","getProfilePhotoIsFetching","setProfile","FormData","append","withRouter","match","params","reducers","combineReducers","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","DialogsContainer","lazy","App","initializeApp","path","render","fallback","AppContainer","promises","Promise","all","MyApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rerenderEntireTree","reactDom","StrictMode","appState","document","getElementById","getState","subscribe","mapStateToRedirect","RedirectComponent"],"mappings":";6JAAMA,EAAc,cAGhBC,EAAe,CAChBC,QAAU,CACJ,CAACC,GAAI,EAAGC,KAAM,qBACd,CAACD,GAAI,EAAGC,KAAM,kBACd,CAACD,GAAI,EAAGC,KAAM,uBACd,CAACD,GAAI,EAAGC,KAAM,kBACd,CAACD,GAAI,EAAGC,KAAM,mBACd,CAACD,GAAI,EAAGC,KAAM,iBAGpBC,SAAW,CACR,CAACF,GAAI,EAAGG,QAAS,kEAAiBC,OAAQ,YAC1C,CAACJ,GAAI,EAAGG,QAAS,6EAAkBC,OAAQ,QAC3C,CAACJ,GAAI,EAAGG,QAAS,6EAAkBC,OAAQ,YAC3C,CAACJ,GAAI,EAAGG,QAAS,iGAAuBC,OAAQ,QAChD,CAACJ,GAAI,EAAGG,QAAS,s+CAA6SC,OAAQ,YACtU,CAACJ,GAAI,EAAGG,QAAS,oNAA2CC,OAAQ,QACpE,CAACJ,GAAI,EAAGG,QAAS,kEAAiBC,OAAQ,YAC1C,CAACJ,GAAI,EAAGG,QAAS,6EAAkBC,OAAQ,QAC3C,CAACJ,GAAI,EAAGG,QAAS,6EAAkBC,OAAQ,YAC3C,CAACJ,GAAI,GAAIG,QAAS,iGAAuBC,OAAQ,QACjD,CAACJ,GAAI,GAAIG,QAAS,s+CAA6SC,OAAQ,YACvU,CAACJ,GAAI,GAAIG,QAAS,oNAA2CC,OAAQ,UA0B9DC,EAAa,SAACC,GAAD,MAAqB,CAAEC,KAAMV,EAAaS,mBAErDE,IAxBQ,WAAmC,IAAlCC,EAAiC,uDAAzBX,EAAcY,EAAW,uCACtD,OAAQA,EAAOH,MACZ,KAAKV,EACF,IAAIc,EAAa,CACjBX,GAAIS,EAAMP,SAASU,OAAS,EAC5BT,QAASO,EAAOJ,eAChBF,OAAQ,QAGJS,EAAS,2BACPJ,GADO,IAEVP,SAAS,GAAD,mBAAMO,EAAMP,UAAZ,CAAsBS,MAGjC,OAAOE,EAGV,QACG,OAAOJ,K,oBC9ChBK,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,QAAU,uBAAuB,OAAS,sBAAsB,YAAc,2BAA2B,WAAa,4B,oBCArKD,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,MAAQ,uB,oBCA1BD,EAAOC,QAAU,CAAC,WAAa,iC,oBCA/BD,EAAOC,QAAU,CAAC,aAAe,kC,oBCAjCD,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,aAAe,qC,oBCAjCD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,kC,+DCA1ED,EAAOC,QAAU,CAAC,KAAO,wBAAwB,cAAgB,iCAAiC,WAAa,8BAA8B,MAAQ,yBAAyB,SAAW,4BAA4B,SAAW,4BAA4B,OAAS,0BAA0B,iBAAmB,sC,oBCAlTD,EAAOC,QAAU,CAAC,WAAa,oC,oBCA/BD,EAAOC,QAAU,CAAC,mBAAqB,uCAAuC,aAAe,iCAAiC,aAAe,iCAAiC,gBAAkB,oCAAoC,mBAAqB,uCAAuC,yBAA2B,6CAA6C,UAAY,8BAA8B,WAAa,iC,sHCK9XC,E,kJCQlBC,EAXA,SAACC,GACd,OACE,sBAAKC,UAAWC,IAAEC,OAAlB,UACE,qBAAKF,UAAWC,IAAEE,YAAlB,SACE,0BAEF,qBAAKH,UAAWC,IAAEG,WAAlB,SAA+BL,EAAMjB,W,iBCQ5BuB,EAbC,SAACN,GACf,OACE,sBAAKC,UAAWC,IAAEK,QAAlB,UACE,qBAAKN,UAAWC,IAAEM,aAAlB,qBACA,qBAAKP,UAAWC,IAAEO,YAAlB,SAEIT,EAAMO,QAAQG,KAAI,SAACP,GAAD,OAAY,cAAC,EAAD,CAAQpB,KAAMoB,EAAOpB,MAAWoB,EAAOrB,a,iBCQhE6B,EAdD,SAACX,GACb,OACM,oBAAIC,UAAWC,IAAEU,MAAjB,SAEIZ,EAAMa,MAAMH,KAAI,SAAAI,GAAI,OAClB,oBAAIb,UAAWC,IAAEa,KAAjB,SACE,cAAC,IAAD,CAASC,GAAIF,EAAKG,QAASC,gBAAiBhB,IAAEiB,OAA9C,SAAuDL,EAAK/B,QADlC+B,EAAKhC,UCchCsC,cACbC,aARoB,SAAC9B,GACrB,MAAO,CACLsB,MAAOtB,EAAM+B,aAAaT,MAC1BN,QAAShB,EAAM+B,aAAaf,WAMX,MAFNa,EAhBD,SAACpB,GACb,OACE,wBAAOC,UAAWC,IAAEqB,MAApB,UACE,cAAC,EAAD,CAAOV,MAAOb,EAAMa,QACpB,cAAC,EAAD,CAASN,QAASP,EAAMO,gB,wBCUfiB,EAjBA,SAACxB,GACV,OACE,yBAAQC,UAAWC,IAAEuB,OAArB,UAEE,qBAAKxB,UAAWC,IAAEwB,eAAlB,SACI,qBAAKzB,UAAWC,IAAEyB,MAAlB,SACI3B,EAAM4B,OAAS5B,EAAM2B,MACnB,cAAC,IAAD,CAASX,GAAI,SAAb,uBAGV,qBAAKf,UAAWC,IAAE2B,OAAlB,SACG7B,EAAM4B,QAAU,wBAAQE,QAAS9B,EAAM+B,WAAvB,0B,kDCbvBC,EAAWC,IAAMC,OAAO,CAC3BC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACN,UAAW,0CAIJC,EAAW,CACrBC,SADqB,SACZC,EAAaC,GACnB,OAAOT,EAASU,IAAT,qBAA2BF,EAA3B,kBAAgDC,IACnDE,MAAK,SAAAC,GACH,OAAOA,EAASC,SAIzBC,aARqB,SAQRhE,GACV,OAAOkD,EAASe,OAAT,iBAA0BjE,IAChC6D,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAG9BG,WAbqB,SAaVlE,GACR,OAAOkD,EAASiB,KAAT,iBAAwBnE,IAC9B6D,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAIpBK,EAAU,WAEjB,OAAOlB,EAASU,IAAI,WAChBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKA,SAH5BK,EAAU,SAMdC,EAAOC,EAAUC,GACpB,OAAOrB,EAASiB,KAAK,aAAc,CAChCE,MAAOA,EACPC,SAAUA,EACVC,WAAYA,KAVRH,EAAU,WAejB,OAAOlB,EAASe,OAAO,eAIhBO,EAAa,SACDxE,GACnB,OAAOkD,EAASU,IAAT,kBAAwB5D,IAC3B6D,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAHvBS,EAAa,SAMNxE,GACd,OAAOkD,EAASU,IAAT,0BAAgC5D,KAPhCwE,EAAa,SAUHC,GACjB,OAAOvB,EAASwB,IAAI,iBAAkB,CAAED,OAAQA,KAXzCD,EAAa,SAcJG,GAChB,OAAOzB,EAASwB,IAAI,iBAAkBC,EAAO,CAC1CpB,QAAS,CACN,UAAW,uCACX,eAAgB,0BAlBfiB,EAAa,SAuBNI,GACd,OAAO1B,EAASwB,IAAI,WAAYE,ICrEhCC,EAAgB,gBAChBC,EAAe,eAEjBhF,EAAe,CAChBiF,OAAQ,KACRV,MAAO,KACPxB,MAAO,KACPC,QAAQ,GAsBEkC,EAAkB,SAACD,EAAQV,EAAOxB,EAAOC,GAAvB,MAAmC,CAAEvC,KAAMsE,EAAed,KAAM,CAACgB,SAAQV,QAAOxB,QAAOC,YAEvGmC,EArBK,WAAmC,IAAlCxE,EAAiC,uDAAzBX,EAAcY,EAAW,uCACnD,OAAQA,EAAOH,MACZ,KAAKsE,EACF,OAAO,2BACDpE,GACAC,EAAOqD,MAKhB,KAAKe,EACF,OAAO,eAAKrE,GAGf,QACG,OAAOA,IAQHyE,GAAS,WAEnB,8CAAO,WAAOC,GAAP,qBAAAC,EAAA,sEAEahB,IAFb,QAEAL,EAFA,QAIIlB,QACC7C,EAAoB+D,EAApB/D,GAAIqE,EAAgBN,EAAhBM,MAAOxB,EAASkB,EAATlB,MACjBsC,EAASH,EAAgBhF,EAAIqE,EAAOxB,GAAO,KAN1C,2CAAP,uDAWUwC,GAAY,SAAChB,EAAOC,EAAUgB,GAExC,8CAAO,WAAOH,GAAP,iBAAAC,EAAA,sEAEiBhB,EAAcC,EAAOC,EAAUgB,GAFhD,OAI4B,KAF5BxB,EAFA,QAIQC,KAAKwB,WACdJ,EAASD,OAELM,EAAgB1B,EAASC,KAAK7D,SAAW,EAAM4D,EAASC,KAAK7D,SAAS,GAAK,aAC/EiF,EAASM,YAAY,QAAS,CAAEC,OAAQF,MARvC,2CAAP,uDC7CGG,G,4JACA,WACM,OAAS,cAAC,EAAD,eAAYC,KAAK1E,Y,GAFR2E,IAAMC,WAarBxD,eACTC,aARkB,SAAC9B,GAAD,MAAY,CAC9BsE,OAAQtE,EAAMsF,KAAKhB,OACnBV,MAAO5D,EAAMsF,KAAK1B,MAClBxB,MAAOpC,EAAMsF,KAAKlD,MAClBC,OAAQrC,EAAMsF,KAAKjD,UAIM,CACzBuC,aACApC,WD0CoB,WAEvB,8CAAO,WAAOkC,GAAP,SAAAC,EAAA,sEAEiBhB,IAFjB,OAI4B,IAJ5B,OAIQL,KAAKwB,YACdJ,EAASH,EAAgB,KAAM,KAAM,MAAM,IAL1C,2CAAP,yDC/CY1C,CAKbqD,I,6BRxBWK,GAAW,SAACC,GACtB,IAAGA,EAEH,MAAO,qB,8BSAGC,GAAU,SAACA,GAAD,OAAa,YAA8B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASlF,EAAW,iCACxDmF,EAAYD,EAAKE,OAASF,EAAKG,QAErC,OACG,sBAAKpF,UAAWC,KAAEoF,kBAAlB,UACG,cAAC,EAAD,uCAAaL,GAAWjF,GAAxB,IACGC,UAAWC,KAAEqF,SAAW,KAAOJ,EAAWjF,KAAEkF,MAAQ,OACvD,sBAAMnF,UAAWC,KAAEsF,iBAAnB,SAAsCL,EAAWD,EAAKE,MAAQ,U,oBCLjEK,GAAQT,GAAQ,SA2CTU,GAAiBC,aAAU,CAAEC,KAAM,SAAlBD,EAzCZ,SAAC,GAA2B,IAA1BE,EAAyB,EAAzBA,aAAcT,EAAW,EAAXA,MAC/B,OACG,qBAAKnF,UAAWC,KAAE4F,cAAlB,SACG,uBAAMC,SAAUF,EAAc5F,UAAWC,KAAE0F,KAA3C,UACG,qBAAK3F,UAAWC,KAAEyB,MAAQ,IAAMzB,KAAE8F,WAAlC,SACG,cAACC,GAAA,EAAD,CACGC,SAAU,CAACpB,IACXqB,YAAY,QACZpH,KAAM,QACNqH,UAAWX,OAGjB,qBAAKxF,UAAWC,KAAEkD,SAAW,IAAMlD,KAAE8F,WAArC,SACG,cAACC,GAAA,EAAD,CACGC,SAAU,CAACpB,IACXqB,YAAY,WACZpH,KAAM,WACNM,KAAK,WACL+G,UAAWX,OAGhBL,GACD,qBAAKnF,UAAWC,KAAEmG,iBAAlB,SAAqCjB,IAErC,wBAAOnF,UAAWC,KAAEoG,SAApB,UACG,cAACL,GAAA,EAAD,CACG5G,KAAK,WACLN,KAAM,aACND,GAAG,GACHsH,UAAW,UAEd,kDAEH,qBAAKnG,UAAWC,KAAEqG,OAAlB,SACG,qDCVAnF,eACZC,aARmB,SAAC9B,GACpB,MAAO,CACPiH,OAAQjH,EAAMsF,KAAKhB,OACnBjC,OAAQrC,EAAMsF,KAAKjD,UAKO,CACvBuC,eAFS/C,EAxBD,SAACpB,GAKT,OAAIA,EAAM4B,OACA,cAAC,IAAD,CAAUZ,GAAI,aAIxB,iCACG,uCACA,cAAC0E,GAAD,CAAgBK,SAXL,SAACU,GACfzG,EAAMmE,UAAUsC,EAAStD,MAAOsD,EAASrD,SAAUqD,EAASrC,oB,yCCInDsC,GAVF,SAAC1G,GACX,OACG,sBAAKC,UAAWC,KAAEa,KAAlB,UACE,qBAAK4F,IAAI,uFACT,qBAAK1G,UAAU,WAAf,SAA4BD,EAAMf,UAClC,0CAAce,EAAM4G,kB,qBCMbC,GAVD,SAAC7G,GACb,OACE,qBAAKC,UAAWC,KAAE4G,MAAlB,SAEI9G,EAAM8G,MAAMpG,KAAI,SAACuC,GAAD,OAAU,cAAC,GAAD,CAAMhE,QAASgE,EAAKhE,QAAS2H,WAAY3D,EAAK2D,YAAiB3D,EAAKnE,U,oBCFhGiI,IdA2BjH,EcAI,GdE3B,SAACiF,GACL,GAAGA,GAASA,EAAMrF,OAASI,EACxB,MAAM,uCAAN,OAA8CA,KcFjDkH,GAAWhC,GAAQ,YAkBZiC,GAAmBtB,aAAU,CACxCC,KAAM,WADwBD,EAhBZ,SAAC3F,GACnB,OACE,qBAAKC,UAAWC,KAAEgH,QAAlB,SACE,uBAAMnB,SAAU/F,EAAM6F,aAAc5F,UAAWC,KAAEiH,eAAjD,UACE,cAAClB,GAAA,EAAD,CACElH,KAAK,UACLoH,YAAY,eACZD,SAAU,CAACpB,GAAUiC,IACrBX,UAAWY,KAEb,kDCQOI,GAvBCzC,IAAM0C,MAAK,SAACrH,GAK1B,OACE,0BAASC,UAAWC,KAAEoH,QAAtB,UACE,oBAAIrH,UAAWC,KAAEqH,eAAjB,SAAkCvH,EAAMwH,QAClC,WACA,UAGLxH,EAAMwH,SACL,cAACP,GAAD,CACElB,SAbM,SAACU,GACbzG,EAAMyH,QAAQhB,EAASS,UAYCQ,K,WAClBC,UAAW3H,EAAM2H,YAGrB,cAAC,GAAD,CAAOH,QAASxH,EAAMwH,QAASV,MAAO9G,EAAMsH,QAAQR,c,2DCQ3C1F,eACbC,aARoB,SAAC9B,GAAD,MAAY,CAChCqI,cAAe,CACbrE,OAAQhE,EAAMsI,eAAetE,QAE/BuE,oBAAoB,KAIK,MACzBnC,aAAU,CAACC,KAAM,WAFJxE,EAzBI,SAACpB,GAClB,OACE,uBACE+F,SAAU/F,EAAM6F,aAChB5F,UAAWC,KAAE6H,WAFf,UAIE,cAAC9B,GAAA,EAAD,CACE+B,UAAU,OACV3I,KAAK,OACLN,KAAK,SACLD,GAAG,GACHsH,UAAU,UAEZ,wBAAQ/G,KAAK,SAAb,gCCyBS4I,GAxCgB,SAACjI,GAC9B,MAAgCkI,oBAAS,GAAzC,oBAAOC,EAAP,KAAiBC,EAAjB,KAQA,OACE,qBAAKC,cAAe,kBAAMD,GAAY,IAAtC,SACE,2CAEGD,EACG,cAAC,GAAD,CACE5E,OAAQvD,EAAMuD,OACd6E,YAAaA,EACbrC,SAdK,SAACU,GAChBzG,EAAMsI,oBAAoB7B,EAASlD,OAAQvD,EAAMuI,MAEjDH,GAAY,MAaJpI,EAAMuD,aCvBH,OAA0B,iCCW1BiF,GARC,WACb,OACG,8BACG,qBAAK7B,IAAK8B,Q,UCyBJC,I,OA3BI,SAAC1I,GAClB,OACE,qCACE,kCACE,uCACA,uBACEjB,KAAK,iBACLgG,MAAM,MACN1F,KAAK,QACLsJ,QAAS3I,EAAM4I,wBACf9G,QAAS,kBAAM9B,EAAM6I,OAAO,kBAAkB,SAGlD,kCACE,sCACA,uBACE9J,KAAK,iBACLgG,MAAM,KACN1F,KAAK,QACLsJ,SAAU3I,EAAM4I,wBAChB9G,QAAS,kBAAM9B,EAAM6I,OAAO,kBAAkB,c,oBCuDlDC,GAAU,SAAC9I,GACf,OACE,gCACGA,EAAM+I,cADT,IAGI/I,EAAMmI,SACF,cAAClC,GAAA,EAAD,CAAOlH,KAAMiB,EAAM+I,cAAe3C,UAAU,UAC5CpG,EAAMgJ,iBAMZC,GAAWC,aAAkB,sBAyBpB9H,eACbC,aAxBsB,SAAC9B,GAGvB,MAAO,CACLqJ,wBAH8BK,GAAS1J,EAAO,kBAI9CqI,cAAe,CACbuB,SAAU5J,EAAMsI,eAAeuB,mBAAmBD,SAClDE,QAAS9J,EAAMsI,eAAeuB,mBAAmBC,QACjDC,eAAgB/J,EAAMsI,eAAeuB,mBAAmBE,eACxDC,0BAA2BhK,EAAMsI,eAAeuB,mBAAmBG,0BACnEC,OAAQjK,EAAMsI,eAAeuB,mBAAmBK,SAASD,OACzDE,GAAInK,EAAMsI,eAAeuB,mBAAmBK,SAASC,GACrDC,SAAUpK,EAAMsI,eAAeuB,mBAAmBK,SAASE,SAC3DC,UAAWrK,EAAMsI,eAAeuB,mBAAmBK,SAASG,UAC5DC,QAAStK,EAAMsI,eAAeuB,mBAAmBK,SAASI,QAC1DC,QAASvK,EAAMsI,eAAeuB,mBAAmBK,SAASK,QAC1DC,QAASxK,EAAMsI,eAAeuB,mBAAmBK,SAASM,QAC1DC,SAAUzK,EAAMsI,eAAeuB,mBAAmBK,SAASO,UAE7DlC,oBAAoB,KAKG,MACzBnC,aAAU,CAACC,KAAM,uBAFJxE,EA5GQ,SAACpB,GACtB,MAAgCkI,oBAAS,GAAzC,oBAAOC,EAAP,KAAiBC,EAAjB,KAEA,OACE,uBACErC,SAAU/F,EAAM6F,aAChB5F,UAAS,UAAKC,KAAE+J,yBAAP,YAAmC/J,KAAEgK,MAFhD,UAIE,sBAAKjK,UAAWC,KAAEiK,WAAa,IAAMjK,KAAEkK,UAAvC,UAEIpK,EAAMoJ,mBAAmBD,SACrBnJ,EAAMoJ,mBAAmBD,SACzB,SAELhB,GAAY,cAAClC,GAAA,EAAD,CAAOlH,KAAK,WAAWqH,UAAU,aAEhD,sBAAKnG,UAAWC,KAAEkK,UAAlB,sBAGIjC,EACI,cAAClC,GAAA,EAAD,CAAOlH,KAAK,UAAUqH,UAAU,UAChCpG,EAAMoJ,mBAAmBC,WAGjC,sBAAKpJ,UAAWC,KAAEkK,UAAlB,+BAGIjC,EACK,cAAClC,GAAA,EAAD,CACClH,KAAK,iBACL8J,OAAQ7I,EAAM6I,OACdzC,UAAWsC,GACXE,wBAAyB5I,EAAM4I,0BAEhC5I,EAAMoJ,mBAAmBE,eAAiB,MAAQ,QAG3D,sBAAKrJ,UAAWC,KAAEkK,UAAlB,iCAEIjC,EACI,cAAClC,GAAA,EAAD,CAAOlH,KAAK,4BAA4BqH,UAAU,UAClDpG,EAAMoJ,mBAAmBG,6BAGjC,4CAGIc,OAAOC,QAAQtK,EAAMoJ,mBAAmBK,UAAU/I,KAChD,SAACK,EAAMwJ,GAAP,OACE,cAAC,GAAD,CACExB,cAAehI,EAAK,GACpBiI,aAAcjI,EAAK,GACnBoH,SAAUA,GACLoC,SAObpC,EACE,wBAAQrG,QAAS,kBAAMsG,GAAY,IAAQ/I,KAAK,SAAhD,gCACA,wBAAQyC,QAAS,SAAC0I,GAAOA,EAAEC,iBAAkBrC,GAAY,IAAzD,sCCSJsC,GAAa,SAAC1K,GAGlB,OACE,qBACE2G,IACE3G,EAAM2K,OAAOC,MACT5K,EAAM2K,OAAOC,MACb,oFAMGC,GAxFY,SAAC7K,GAkC1B,OACE,0BAASC,UAAWC,KAAEkJ,mBAAtB,UACE,sBAAKnJ,UAAWC,KAAE4K,aAAlB,UACE,qBAAK7K,UAAWC,KAAE6K,aAAlB,SACG/K,EAAMgL,uBACL,cAAC,GAAD,IAEA,cAAC,GAAD,CACEL,OAAQ3K,EAAMoJ,mBAAmBuB,OACjCM,6BAA8BjL,EAAMiL,iCAIzCjL,EAAMwH,SACL,qBAAKvH,UAAWC,KAAEgL,gBAAlB,SACE,sBAAMjL,UAAWC,KAAEiL,mBAAnB,SACE,uBAAO9L,KAAK,OAAO+L,SAjDR,SAACZ,GACtB,GAAIA,EAAEa,OAAOC,MAAM5L,OAAQ,CACzB,IAAI+D,EAAQ+G,EAAEa,OAAOC,MAAM,GAC3BtL,EAAMuL,oBAAoB9H,cAmD1B,cAAC,GAAD,CACEsC,SAhDW,SAACU,GAChB,IAAI+E,EAAwB,CAC1B3H,OAAQ7D,EAAMuI,KACdc,QAAS5C,EAAS4C,QAClBsB,OAAQ,CACNC,MAAO5K,EAAMoJ,mBAAmBuB,OAAOC,MACvCa,MAAOzL,EAAMoJ,mBAAmBuB,OAAOc,OAEzCnC,eAAgB7C,EAAS6C,eACzBC,0BAA2B9C,EAAS8C,0BACpCJ,SAAU1C,EAAS0C,SACnBM,SAAU,CACRD,OAAQ/C,EAAS+C,OACjBE,GAAIjD,EAASiD,GACbC,SAAUlD,EAASkD,SACnBC,UAAWnD,EAASmD,UACpBC,QAASpD,EAASoD,QAClBC,QAASrD,EAASqD,QAClBC,QAAStD,EAASsD,QAClBC,SAAUvD,EAASuD,WAIvBhK,EAAM0L,iBAAiBF,IA0BnBpC,mBAAoBpJ,EAAMoJ,qBAE5B,cAAC,GAAD,CACEb,KAAMvI,EAAMuI,KACZhF,OAAQvD,EAAMuD,OACd+E,oBAAqBtI,EAAMsI,0BC/D7BqD,GAAU,SAAC3L,GAEf,OAAKA,EAAM4B,OAGP,gCAEE,cAAC,GAAD,CACE2G,KAAMvI,EAAMuI,KACZhF,OAAQvD,EAAMuD,OACd6F,mBAAoBpJ,EAAMoJ,mBAC1Bd,oBAAqBtI,EAAMsI,oBAC3BiD,oBAAqBvL,EAAMuL,oBAC3BG,iBAAkB1L,EAAM0L,iBACxBV,uBAAwBhL,EAAMgL,uBAC9BC,6BAA8BjL,EAAMiL,6BACpCzD,QAASxH,EAAMwH,UAEjB,cAAC,GAAD,CACEC,QAASzH,EAAMyH,QACfmE,cAAe5L,EAAM4L,cACrBtE,QAAStH,EAAMsH,QACfE,QAASxH,EAAMwH,aApBG,cAAC,IAAD,CAAUxG,GAAG,Y,uCCLnC6K,GAAgB,gBAChBC,GAAY,YACZC,GAAmB,mBACnBC,GAAwB,wBACxBC,GAAqB,qBACrBC,GAA+B,+BAEjCtN,GAAe,CAChBuN,MAAO,GASPC,oBAAqB,GACrB3J,SAAU,EACV4J,gBAAiB,EACjB7J,YAAa,EACb8J,YAAY,EACZC,sBAAuB,IAmDbC,GAAqB,SAAC1N,GAAD,MAAS,CAAEO,KAAMwM,GAAgBhI,OAAQ/E,IAE9D2N,GAAiB,SAACjK,GAAD,MAAkB,CAAEnD,KAAM0M,GAAkBvJ,gBAE7DkK,GAAmB,iBAAO,CAAErN,KAAM4M,KAClCU,GAA4B,SAACL,EAAYzI,GAAb,MAAyB,CAAExE,KAAM6M,GAA8BI,aAAYzI,WAoCrG+I,GAzFM,WAAmC,IAAlCrN,EAAiC,uDAAzBX,GAAcY,EAAW,uCACpD,OAAQA,EAAOH,MACZ,KAAKwM,GACF,OAAO,2BACDtM,GADN,IAEG4M,MAAO5M,EAAM4M,MAAMzL,KAAK,SAAAmM,GACrB,OAAGA,EAAK/N,KAAOU,EAAOqE,OACZ,2BAAIgJ,GAAX,IAAiBC,UAAWD,EAAKC,WAE7BD,OAKhB,KAAKf,GACF,OAAO,2BACDvM,GADN,IACa4M,MAAM,aAAK3M,EAAO2M,SAGlC,KAAKJ,GACF,OAAO,2BACDxM,GADN,IACaiD,YAAahD,EAAOgD,cAGpC,KAAKwJ,GACF,OAAO,2BACDzM,GADN,IACa8M,gBAAiB7M,EAAO6M,kBAGxC,KAAKJ,GACF,OAAO,2BACD1M,GADN,IACa+M,YAAa/M,EAAM+M,aAGnC,KAAKJ,GACF,OAAO,2BACD3M,GADN,IAEGgN,sBAAuB/M,EAAO8M,WAAP,uBAChB/M,EAAMgN,uBADU,CACa/M,EAAOqE,SACxCtE,EAAMgN,sBAAsBQ,QAAO,SAAAjO,GAAE,OAAIA,IAAOU,EAAOqE,YAIhE,QACG,OAAOtE,I,mBCjEHgD,GAAWyK,cAJC,SAACzN,GACvB,OAAOA,EAAM0N,UAAUd,SAG+B,SAACA,GACvD,OAAOA,EAAMY,QAAO,SAAAG,GAAC,OAAI,QAGfC,GAAyB,SAAC5N,GACpC,OAAOA,EAAM0N,UAAUb,qBAGbgB,GAAc,SAAC7N,GACzB,OAAOA,EAAM0N,UAAUxK,UAGb4K,GAAqB,SAAC9N,GAChC,OAAOA,EAAM0N,UAAUZ,iBAGbiB,GAAiB,SAAC/N,GAC5B,OAAOA,EAAM0N,UAAUzK,aAGb+K,GAAgB,SAAChO,GAC3B,OAAOA,EAAM0N,UAAUX,YAGbkB,GAA2B,SAACjO,GACtC,OAAOA,EAAM0N,UAAUV,uB,qBC2BXkB,GArDC,SAACzN,GACd,IAGI0N,EAHJ,EAAiDxF,mBAAS,GAA1D,oBAAOyF,EAAP,KAAwBC,EAAxB,KAEIC,EAAaC,KAAKC,KAAK/N,EAAMgO,gBAAkBhO,EAAMiO,eAGtDJ,IACAH,EAAmBI,KAAKI,IACrBlO,EAAMoM,oBACN0B,KAAKK,IAAIN,EAAaF,EAAkB,EAAG,KAKjD,IADA,IAAI9M,EAAQ,GACHuN,EAAIT,EAAiBS,EAAIT,EAAkBD,EAAkBU,IACnEvN,EAAMwN,KAAKD,GAWd,OACG,gCAEMT,EAAkB3N,EAAMoM,qBAClB,wBAAQtK,QAAS,kBAZTwM,EAY6BtO,EAAMoM,yBAXvDwB,EAAsBE,KAAKK,IAAIR,EAAkBW,EAAa,IAD3C,IAACA,GAYR,kBAERzN,EAAMH,KAAI,SAACI,GACT,OACG,sBACGb,UAAWa,IAASd,EAAMwC,YAActC,KAAEqO,aAAe,GACzDzM,QAAS,WACN9B,EAAMwO,cAAc1N,IAH1B,SAOIA,GAFIA,EAAO,MAOlB+M,GAAcF,EAAkB3N,EAAMoM,qBACnC,wBAAQtK,QAAS,kBAzBN2M,EAyB0BzO,EAAMoM,yBAxBpDwB,EAAsBE,KAAKI,IAAIP,EAAkBc,EAAgBZ,IAD9C,IAACY,GAyBX,sB,yCChCAC,GAjBC,SAAC1O,GACf,OACE,0BAASC,UAAWC,KAAEyO,QAAtB,UACE,sBAAK1O,UAAWC,KAAE0O,QAAlB,UACE,mBAAG3O,UAAWC,KAAE2O,aAAhB,SAA+B7O,EAAM6M,KAAK9N,OAC1C,mBAAGkB,UAAWC,KAAE4O,WAAhB,SAA6B9O,EAAM6M,KAAKtJ,YAE1C,sBAAKtD,UAAWC,KAAE6O,aAAlB,UACE,mBAAG9O,UAAWC,KAAE8O,iBAAhB,SAAmC,gCACnC,mBAAG/O,UAAWC,KAAE+O,oBAAhB,SACG,0C,qBCOIC,GAjBM,SAAClP,GAMpB,OACE,wBACEmP,SAAUnP,EAAMuM,sBAAsB6C,MAAK,SAAAtQ,GAAE,OAAIA,IAAOkB,EAAMlB,MAC9DgD,QAPe,WACnB9B,EAAMqP,aAAarP,EAAMlB,GAAIkB,EAAM8M,WAO/B7M,UAAWC,KAAEoP,aAHf,SAKGtP,EAAM8M,SAAW,UAAY,c,oBCWrByC,GAnBK,SAACvP,GACnB,OACE,0BAASC,UAAWC,KAAEsP,YAAtB,UACE,cAAC,IAAD,CAASxO,GAAI,YAAchB,EAAMlB,GAAjC,SACE,qBAAKmB,UAAWC,KAAEuP,WAAlB,SACE,4BAGJ,cAAC,GAAD,CACE3Q,GAAIkB,EAAMlB,GACVgO,SAAU9M,EAAM8M,SAChBuC,aAAcrP,EAAMqP,aACpB9C,sBAAuBvM,EAAMuM,sBAC7BI,0BAA2B3M,EAAM2M,gCCE1B+C,GAjBF,SAAC1P,GACZ,OACE,sBAAKC,UAAWC,KAAE2M,KAAlB,UACE,cAAC,GAAD,CACE8C,QAAS3P,EAAM2P,QACfC,UAAW5P,EAAM4P,UACjB9Q,GAAIkB,EAAM6M,KAAK/N,GACfgO,SAAU9M,EAAM6M,KAAKC,SACrBuC,aAAcrP,EAAMqP,aACpB9C,sBAAuBvM,EAAMuM,sBAC7BI,0BAA2B3M,EAAM2M,4BAEnC,cAAC,GAAD,CAASE,KAAM7M,EAAM6M,W,qBCaZgD,GAzBC,SAAC7P,GACd,OACG,sBAAKC,UAAWC,KAAE4P,UAAlB,UACG,cAAC,GAAD,CACG9B,gBAAiBhO,EAAMqM,gBACvBD,oBAAqBpM,EAAMoM,oBAC3B6B,cAAejO,EAAMyC,SACrBD,YAAaxC,EAAMwC,YACnBgM,cAAexO,EAAMwO,gBAGrBxO,EAAMmM,MAAMzL,KAAI,SAACmM,GAAD,OACb,cAAC,GAAD,CACGN,sBAAuBvM,EAAMuM,sBAC7BI,0BAA2B3M,EAAM2M,0BACjC0C,aAAcrP,EAAMqP,aACpBxC,KAAMA,GACDA,EAAK/N,WC4CbsC,eACbC,aAboB,SAAC9B,GACrB,MAAO,CACL4M,MAAO5J,GAAShD,GAChB6M,oBAAqBe,GAAuB5N,GAC5CkD,SAAU2K,GAAY7N,GACtB8M,gBAAiBgB,GAAmB9N,GACpCiD,YAAa8K,GAAe/N,GAC5B+M,WAAYiB,GAAchO,GAC1BgN,sBAAuBiB,GAAyBjO,MAMhD,CAAE8P,aR6BsB,SAACvQ,EAAIiR,GAE9B,8CAAO,WAAO9L,GAAP,eAAAC,EAAA,6DAEJD,EAAS0I,IAA0B,EAAM7N,IAErCkR,EAAYD,EACXzN,EAASQ,aAAa4E,KAAK,IAC3BpF,EAASU,WAAW0E,KAAK,IAN1B,SAQasI,EAAUlR,GARvB,cAUMuF,aACPJ,EAASuI,GAAmB1N,IAC5BmF,EAAS0I,IAA0B,EAAO7N,KAZzC,2CAAP,uDQ9BGmR,aRasB,SAACzN,EAAaC,GAEvC,8CAAO,WAAOwB,GAAP,eAAAC,EAAA,6DAEJD,EAASyI,MAFL,SAIapK,EAASC,SAASC,EAAaC,GAJ5C,OAIAI,EAJA,OAMJoB,EAASyI,MACTzI,GAfmBkI,EAeDtJ,EAAKjC,MAfO,CAAEvB,KAAMyM,GAAYK,WAgBlDlI,GAd6BoI,EAcDxJ,EAAKqN,WAdiB,CAAE7Q,KAAM2M,GAAuBK,qBAejFpI,EAASwI,GAAejK,IATpB,iCANwB,IAAC6J,EAFVF,IAQf,OAAP,uDQdGM,oBACJ0D,KALa/O,EA5CY,SAACpB,GAC1B,IAAIwC,EAAcxC,EAAMwC,YACpBC,EAAWzC,EAAMyC,SAErB2N,qBAAU,WACRpQ,EAAMiQ,aAAazN,EAAaC,KAK/B,CAACD,EAAaC,IAKjB,OACE,qCACGzC,EAAMsM,WAAa,cAAC,GAAD,IAAgB,KACpC,cAAC,GAAD,CACED,gBAAiBrM,EAAMqM,gBACvBD,oBAAqBpM,EAAMoM,oBAC3B3J,SAAUzC,EAAMyC,SAChBD,YAAaxC,EAAMwC,YACnBgM,cAXgB,SAAC6B,GACrBrQ,EAAMiQ,aAAaI,EAAYrQ,EAAMyC,WAWjC0J,MAAOnM,EAAMmM,MACbkD,aAAcrP,EAAMqP,aACpB9C,sBAAuBvM,EAAMuM,8BCjCtB+D,GAXD,SAACtQ,GACZ,OACG,0BAASC,UAAWC,KAAEiM,MAAtB,UACG,qBAAKlM,UAAWC,KAAEqQ,WAAlB,mBACA,qBAAKtQ,UAAWC,KAAEsQ,UAAlB,SACG,cAAC,GAAD,UCPNC,GAAiB,iBAEnB7R,GAAe,CAChB8R,aAAa,GAkBDC,GAfI,WAAmC,IAAlCpR,EAAiC,uDAAzBX,GAAcY,EAAW,uCAClD,OAAQA,EAAOH,MACZ,KAAKoR,GACF,OAAO,2BACDlR,GADN,IAEGmR,aAAa,IAInB,QACG,OAAOnR,IChBVqR,GAAW,WACXC,GAA0B,0BAC1BC,GAAqB,qBACrBC,GAAc,cACdC,GAAqB,qBACrBC,GAAmC,mCAErCrS,GAAe,CAChBwK,mBAAoB,CACjBuB,OAAQ,CACLC,MAAO,KACPa,MAAO,KACPa,YAAY,GAEfnD,SAAU,IACVE,QAAS,KACTC,eAAgB,KAChBC,0BAA2B,KAC3BE,SAAU,CACPD,OAAQ,KACRE,GAAI,KACJC,SAAU,KACVC,UAAW,KACXC,QAAS,KACTC,QAAS,KACTC,QAAS,KACTC,SAAU,MAEblL,GAAI,MAGPyE,OAAQ,GAER+D,QAAU,CACPR,MAAQ,CACL,CAAChI,GAAI,EAAGG,QAAS,mBAAoB2H,WAAY,GACjD,CAAC9H,GAAI,EAAGG,QAAS,mBAAoB2H,WAAY,GACjD,CAAC9H,GAAI,EAAGG,QAAS,mBAAoB2H,WAAY,GACjD,CAAC9H,GAAI,EAAGG,QAAS,mBAAoB2H,WAAY,MA0G7CsK,GAAmB,SAAC3N,GAAD,MAAa,CAAElE,KAAMyR,GAAoBvN,WAC5D4N,GAAwB,SAAC/H,GAAD,MAAyB,CAAC/J,KAAMwR,GAAyBzH,uBACjF6B,GAA+B,iBAAO,CAAC5L,KAAM4R,KAE3CpJ,GAzGQ,WAAmC,IAAlCtI,EAAiC,uDAAzBX,GAAcY,EAAW,uCACtD,OAAQA,EAAOH,MACZ,KAAKuR,GACF,IAAI1J,EAAU,CACdpI,GAAIS,EAAM+H,QAAQR,MAAMpH,OACxBT,QAASO,EAAO4R,YAChBxK,WAAY,GAGZ,OAAO,2BACDrH,GADN,IAEG+H,QAAQ,2BACF/H,EAAM+H,SADL,IAEJR,MAAM,GAAD,oBACCvH,EAAM+H,QAAQR,OADf,CAEFI,QAMZ,KAAK6J,GACF,OAAO,2BACDxR,GADN,IAEG+H,QAAQ,2BACF/H,EAAM+H,SADL,IAEJR,MAAOvH,EAAM+H,QAAQR,MAAMiG,QAAO,SAAAsE,GAAC,OAAIA,EAAEvS,KAAOU,EAAO8R,cAKhE,KAAKT,GACF,OAAO,2BACDtR,GADN,IAEG6J,mBAAmB,2BACb7J,EAAM6J,oBADM,IAEfuB,OAAO,2BACDpL,EAAM6J,mBAAmBuB,QADzB,IAEHC,MAAOpL,EAAO4J,mBAAmBuB,OAAOC,MACxCa,MAAOjM,EAAO4J,mBAAmBuB,OAAOc,QAE3CpC,QAAS7J,EAAO4J,mBAAmBC,QACnCC,eAAgB9J,EAAO4J,mBAAmBE,eAC1CC,0BAA2B/J,EAAO4J,mBAAmBG,0BACrDJ,SAAU3J,EAAO4J,mBAAmBD,SACpCM,SAAU,CACPD,OAAQhK,EAAO4J,mBAAmBK,SAASD,OAC3CE,GAAIlK,EAAO4J,mBAAmBK,SAASC,GACvCC,SAAUnK,EAAO4J,mBAAmBK,SAASE,SAC7CC,UAAWpK,EAAO4J,mBAAmBK,SAASG,UAC9CC,QAASrK,EAAO4J,mBAAmBK,SAASI,QAC5CC,QAAStK,EAAO4J,mBAAmBK,SAASK,QAC5CC,QAASvK,EAAO4J,mBAAmBK,SAASM,QAC5CC,SAAUxK,EAAO4J,mBAAmBK,SAASO,UAEhDlL,GAAIU,EAAO4J,mBAAmBvF,WAKvC,KAAKiN,GACF,OAAO,2BACDvR,GADN,IAEGgE,OAAQ/D,EAAO+D,SAIrB,KAAKyN,GACF,OAAO,2BACDzR,GADN,IAEG6J,mBAAmB,2BACb7J,EAAM6J,oBADM,IAEfuB,OAAO,2BACDpL,EAAM6J,mBAAmBuB,QADzB,IAEHC,MAAOpL,EAAO+R,OAAO3G,MACrBa,MAAOjM,EAAO+R,OAAO9F,YAMjC,KAAKwF,GACF,OAAO,2BACD1R,GADN,IAEG6J,mBAAmB,2BACb7J,EAAM6J,oBADM,IAEfuB,OAAO,2BACDpL,EAAM6J,mBAAmBuB,QADzB,IAEH2B,YAAa/M,EAAM6J,mBAAmBuB,OAAO2B,iBAMzD,QACG,OAAO/M,IC5IHiS,GAAmB,SAACjS,GAC9B,OAAOA,EAAMsI,eAAeuB,mBAAmBuB,QAGrC8G,GAA4B,SAAClS,GACvC,OAAOA,EAAMsI,eAAeuB,mBAAmBuB,OAAO2B,YC0C1ClL,eACbC,aAZoB,SAAC9B,GACrB,MAAO,CACL6J,mBAAoB7J,EAAMsI,eAAeuB,mBACzC9B,QAAS/H,EAAMsI,eAAeP,QAC9B/D,OAAQhE,EAAMsI,eAAetE,OAC7BoH,OAAQ6G,GAAiBjS,GACzByL,uBAAwByG,GAA0BlS,GAClDgJ,KAAMhJ,EAAMsF,KAAKhB,UAKM,CACvB6N,WFuGsB,SAAC7N,GAExB,8CAAO,WAAOI,GAAP,iBAAAC,EAAA,6DACJD,EAASgH,MADL,SAGa3H,EAAiCO,GAH9C,cAGAhB,EAHA,OAIJoB,EAASkN,GAAsBtO,IAJ3B,SAMiBS,EAA4BO,GAN7C,OAMAjB,EANA,OAOJqB,EAASiN,GAAiBtO,EAASC,OACnCoB,EAASgH,MARL,4CAAP,uDExGCxD,QF8FmB,SAAC2J,GAAD,MAAkB,CAAE/R,KAAMuR,GAAUQ,gBE7FvD9I,oBFmH+B,SAAC/E,GAEjC,8CAAO,WAAOU,GAAP,SAAAC,EAAA,sEACiBZ,EAA+BC,GADhD,OAG4B,IAH5B,OAGQV,KAAKwB,YACdJ,EAASiN,GAAiB3N,IAJzB,2CAAP,uDEpHCgI,oBF6H+B,SAAC9H,GACjC,IAAIgD,EAAW,IAAIkL,SAGnB,OAFAlL,EAASmL,OAAO,QAASnO,GAEzB,uCAAO,WAAOQ,GAAP,eAAAC,EAAA,6DACJD,EAASgH,MADL,SAGiB3H,EAA8BmD,GAH/C,OAK4B,KAF5B7D,EAHA,QAKQC,KAAKwB,YACdJ,GAtCwBsN,EAsCE3O,EAASC,KAAKA,KAAK8H,OAtCT,CAACtL,KAAK2R,GAAoBO,YAyCjEtN,EAASgH,MATL,iCAhCsB,IAACsG,IAgCvB,OAAP,uDEhICtG,gCACAS,iBF4I4B,SAACtC,GAE9B,8CAAO,WAAOnF,GAAP,SAAAC,EAAA,sEAEiBZ,EAA4B8F,GAF7C,OAI4B,IAJ5B,OAIQvG,KAAKwB,YACdJ,EAASkN,GAAsB/H,IAL9B,2CAAP,yDE5IDyI,IACA1B,KAVa/O,EA9BU,SAACpB,GASxB,IAAI6D,EAAS7D,EAAM8R,MAAMC,OAAOlO,OAC5B0E,EAAOvI,EAAMuI,KAMjB,OAJA6H,qBAAU,WACRvM,EAAS7D,EAAM0R,WAAW7N,GAAU7D,EAAM0R,WAAWnJ,KACpD,CAAC1E,EAAQ0E,IAEL,cAAC,GAAD,2BAAavI,GAAb,IAAoBwH,SAAU3D,QCjCnCjF,GAAe,CAChBiC,MAAQ,CACL,CAAC/B,GAAI,EAAGC,KAAM,UAAWkC,QAAS,YAClC,CAACnC,GAAI,EAAGC,KAAM,WAAYkC,QAAS,YACnC,CAACnC,GAAI,EAAGC,KAAM,OAAQkC,QAAS,SAC/B,CAACnC,GAAI,EAAGC,KAAM,QAASkC,QAAS,UAChC,CAACnC,GAAI,EAAGC,KAAM,UAAWkC,QAAS,aAClC,CAACnC,GAAI,EAAGC,KAAM,aAAckC,QAAS,WAExCV,QAAS,CACN,CAAEzB,GAAI,EAAGC,KAAM,qBACf,CAAED,GAAI,EAAGC,KAAM,kBACf,CAAED,GAAI,EAAGC,KAAM,uBACf,CAAED,GAAI,EAAGC,KAAM,kBACf,CAAED,GAAI,EAAGC,KAAM,mBACf,CAAED,GAAI,EAAGC,KAAM,kBAQNuC,GAJM,WAAmC,IAAlC/B,EAAiC,uDAAzBX,GAC3B,OAAOW,G,8BCTNyS,GAAWC,YAAgB,CAC5BpN,KAAMd,EACN8D,eAAgBA,GAChBvI,eAAgBA,KAChBgC,aAAcA,GACd2L,UAAWL,GACXhH,KAAMsM,KACNC,IAAKxB,KAGFyB,GAAmBC,OAAOC,sCAAwClR,IAClEmR,GAAQC,YAAYR,GAAUI,GAAiBK,YAAgBC,QAErEL,OAAOpQ,MAAQA,IAEAsQ,UCRTI,GAAmBhO,IAAMiO,MAAK,kBAAM,iCAEpCC,G,uKACJ,WACEnO,KAAK1E,MAAM8S,kB,oBAGb,WACE,OAAKpO,KAAK1E,MAAM0Q,YAId,sBAAKzQ,UAAU,UAAf,UACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,uBAAMA,UAAU,UAAhB,UACE,cAAC,IAAD,CAAO8S,KAAK,oBACZC,OAAS,kBAAM,cAAC,GAAD,OAEf,cAAC,IAAD,CAAOD,KAAK,WACVC,OAAS,kBClCQpO,EDkCW+N,GChC1B,cAAC,WAAD,CAAUM,SAAU,cAAC,GAAD,IAApB,SACL,cAACrO,EAAD,MAHmB,IAACA,KDoCnB,cAAC,IAAD,CAAOmO,KAAK,QAAQ3M,UAAYuF,KAChC,cAAC,IAAD,CAAOoH,KAAK,SAAS3M,UAAYuF,KACjC,cAAC,IAAD,CAAOoH,KAAK,YAAY3M,UAAYuF,KACpC,cAAC,IAAD,CAAOoH,KAAK,SACVC,OAAS,kBAAM,cAAC,GAAD,OACjB,cAAC,IAAD,CAAOD,KAAK,SACVC,OAAS,kBAAM,cAAC,GAAD,aAnBd,cAAC,GAAD,Q,GAPKrO,IAAMC,WAuCpBsO,GAAe9R,YACjByQ,IACAxQ,aARoB,SAAC9B,GACrB,MAAO,CACLmR,YAAanR,EAAM4S,IAAIzB,eAMA,CACvBoC,cNrCyB,kBAAM,SAAC7O,GACjC,IAAIkP,EAAW,GACfA,EAAS9E,KAAKpK,EAASD,OAEvBoP,QAAQC,IAAIF,GACRxQ,MAAK,WACHsB,EATgC,CAAE5E,KAAMoR,YMqC9BrP,CAKjByR,IAUaS,GARD,SAACtT,GACb,OAAO,cAAC,IAAD,UACL,cAAC,IAAD,CAAUuS,MAAOA,GAAjB,SACE,cAACW,GAAD,SEzDSK,I,OAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB9Q,MAAK,YAAkD,IAA/C+Q,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,QCAHO,GAAqB,SAACxU,GAC9ByU,IAAShB,OACN,cAAC,IAAMiB,WAAP,UACG,cAAC,GAAD,CAAOC,SAAW3U,EAAQ0E,SAAWsO,GAAMtO,SAASyD,KAAK6K,QAE5D4B,SAASC,eAAe,UAI9BL,GAAmBxB,GAAM8B,YAEzB9B,GAAM+B,WAAU,WACbP,GAAmBxB,GAAM8B,eAO5Bd,M,mBCzBA3T,EAAOC,QAAU,CAAC,mBAAqB,2CAA2C,aAAe,qCAAqC,aAAe,qCAAqC,gBAAkB,wCAAwC,mBAAqB,2CAA2C,yBAA2B,iDAAiD,UAAY,kCAAkC,WAAa,qC,mBCA3bD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,QAAU,yBAAyB,aAAe,8BAA8B,WAAa,4BAA4B,aAAe,8BAA8B,iBAAmB,kCAAkC,oBAAsB,uC,mBCAtSD,EAAOC,QAAU,CAAC,mBAAqB,+CAA+C,aAAe,yCAAyC,aAAe,yCAAyC,gBAAkB,4CAA4C,mBAAqB,+CAA+C,yBAA2B,qDAAqD,WAAa,yC,mBCAraD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,eAAiB,+BAA+B,MAAQ,sBAAsB,OAAS,yB,mBCAzID,EAAOC,QAAU,CAAC,kBAAoB,yCAAyC,SAAW,gCAAgC,MAAQ,6BAA6B,iBAAmB,0C,mJCG9K0U,EAAqB,SAAChV,GAAD,MAAY,CAC/BqC,OAAQrC,EAAMsF,KAAKjD,SAGZuO,EAAmB,SAACvL,GAAe,IAEvC4P,EAFsC,4JAGzC,WACG,OAAI9P,KAAK1E,MAAM4B,OAER,cAACgD,EAAD,eAAeF,KAAK1E,QAFG,cAAC,IAAD,CAAUgB,GAAG,eAJL,GAEZ2D,IAAMC,WAUtC,OAFiCvD,YAAQkT,EAARlT,CAA4BmT,K,mBCjBhE5U,EAAOC,QAAU,CAAC,OAAS,uBAAuB,YAAc,4BAA4B,WAAa,6B,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,aAAe,gC,mBCA/GD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,OAAS,wB,mBCAnFD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,WAAa,0BAA0B,UAAY,2B,mBCAlGD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,eAAiB,kC,mBCAtED,EAAOC,QAAU,CAAC,iBAAmB,kCAAkC,eAAiB,kC,mBCAxFD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,WAAa,gCAAgC,aAAe,qC","file":"static/js/main.5c791fed.chunk.js","sourcesContent":["const ADD_MESSAGE = \"ADD-MESSAGE\";\r\nconst UPDATE_NEW_MESSAGE_TEXT = \"UPDATE-NEW-MESSAGE-TEXT\"; \r\n\r\nlet initialState = {\r\n   dialogs : [\r\n         {id: 1, name :\"Grigoriy Kuznezov\"},\r\n         {id: 2, name :\"Nikolay Latkin\"},\r\n         {id: 3, name :\"Vladimir Tashinskiy\"},\r\n         {id: 4, name :\"Maksim Sokolov\"},\r\n         {id: 5, name :\"Elmira Abramova\"},\r\n         {id: 6, name :\"Artem Schiva\"},\r\n      ],\r\n\r\n   messages : [\r\n      {id: 1, message :\"Верни 3 сотки\", belong: 'opponent',},\r\n      {id: 2, message :\"Я сейчас занят\", belong: 'user',},\r\n      {id: 3, message :\"Когда сможешь?\", belong: 'opponent',},\r\n      {id: 4, message :\"Я те говорю занят я\", belong: 'user',},\r\n      {id: 5, message :\"Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!\", belong: 'opponent',},\r\n      {id: 6, message :\"Пошел нахуй пидорас гнилой сдохни тварь\", belong: 'user',},\r\n      {id: 7, message :\"Верни 3 сотки\", belong: 'opponent',},\r\n      {id: 8, message :\"Я сейчас занят\", belong: 'user',},\r\n      {id: 9, message :\"Когда сможешь?\", belong: 'opponent',},\r\n      {id: 10, message :\"Я те говорю занят я\", belong: 'user',},\r\n      {id: 11, message :\"Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!Возвращай три сотки, хуйло!\", belong: 'opponent',},\r\n      {id: 12, message :\"Пошел нахуй пидорас гнилой сдохни тварь\", belong: 'user',},\r\n   ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case ADD_MESSAGE: {\r\n         let newMessage = {\r\n         id: state.messages.length + 1,\r\n         message: action.newMessageBody,\r\n         belong: 'user',\r\n         }\r\n         \r\n         let stateCopy = {\r\n            ...state,\r\n            messages: [...state.messages, newMessage],\r\n         };\r\n         \r\n         return stateCopy;\r\n      }\r\n   \r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport const addMessage = (newMessageBody) => ({ type: ADD_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__3RdYS\",\"friends\":\"Aside_friends__2JoVw\",\"friend\":\"Aside_friend__2pu35\",\"friendImage\":\"Aside_friendImage__2eF7y\",\"friendName\":\"Aside_friendName__2bn9e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2lpRt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__3gQ2j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusForm\":\"StatusForm_statusForm__22aso\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__39Hvh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3DM6v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userFollowed\":\"FollowButton_userFollowed__lKMuO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersList\":\"UsersList_usersList__3MPxx\",\"selectedPage\":\"UsersList_selectedPage__bQTsE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginForm_form__1cLTW\",\"formContainer\":\"LoginForm_formContainer__3kXG2\",\"inputField\":\"LoginForm_inputField__1dhtc\",\"login\":\"LoginForm_login__30kx_\",\"password\":\"LoginForm_password__haV4O\",\"remember\":\"LoginForm_remember__O8fwi\",\"submit\":\"LoginForm_submit__3SfZ7\",\"formSummaryError\":\"LoginForm_formSummaryError__1H-Zb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusForm\":\"ProfileStatus_statusForm__1qAlV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInformation\":\"Checkboxes_profileInformation__34iNq\",\"avatar_field\":\"Checkboxes_avatar_field__26aqb\",\"avatar_photo\":\"Checkboxes_avatar_photo__2ECPq\",\"avatar_settings\":\"Checkboxes_avatar_settings__27vMX\",\"avatar_changePhoto\":\"Checkboxes_avatar_changePhoto__TThvX\",\"profileInformation__text\":\"Checkboxes_profileInformation__text__3p5pv\",\"text_item\":\"Checkboxes_text_item__h-G2M\",\"text__name\":\"Checkboxes_text__name__mm5SL\"};","export const required = (value) => {\r\n   if(value) return undefined;\r\n   \r\n   return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n\r\n   return (value) => {\r\n      if(value && value.length > maxLength) {\r\n         return `The maximum number of characters is ${maxLength}`\r\n      };\r\n\r\n      return undefined;\r\n   };\r\n};","import React from 'react';\r\nimport s from './Friend.module.css';\r\n\r\nconst Friend = (props) => {\r\n  return (\r\n    <div className={s.friend}>\r\n      <div className={s.friendImage}>\r\n        <img></img>\r\n      </div>\r\n      <div className={s.friendName}>{props.name}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport Friend from './Friend/Friend';\r\nimport s from './Friends.module.css';\r\n\r\nconst Friends = (props) => {\r\n  return (\r\n    <div className={s.friends}>\r\n      <div className={s.friendsTitle}>Friends</div>\r\n      <div className={s.friendsList}>\r\n        {\r\n          props.friends.map((friend) => <Friend name={friend.name} key={friend.id} />)\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Pages.module.css';\r\n\r\nconst Pages = (props) => {\r\n  return (\r\n        <ul className={s.items}>\r\n          {\r\n            props.pages.map(page => (\r\n              <li className={s.item} key={page.id}>\r\n                <NavLink to={page.NavLink} activeClassName={s.active}>{page.name}</NavLink>\r\n              </li>\r\n            ))\r\n          }\r\n        </ul>\r\n  )\r\n}\r\n\r\nexport default Pages;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport s from './Aside.module.css';\r\nimport Friends from './Friends/Friends';\r\nimport Pages from './Pages/Pages';\r\n\r\nconst Aside = (props) => {\r\n  return (\r\n    <aside className={s.aside}>\r\n      <Pages pages={props.pages} />\r\n      <Friends friends={props.friends} />\r\n    </aside>\r\n  );\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    pages: state.asideReducer.pages,\r\n    friends: state.asideReducer.friends,\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps, null\r\n    )\r\n)(Aside)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n      return (\r\n        <header className={s.header}>\r\n          {/* <img src=\"https://varlamov.me/2019/gryaz/01.jpg\"></img> */}\r\n          <div className={s.loginContainer}>\r\n              <div className={s.login}>\r\n                { props.isAuth ? props.login \r\n                  : <NavLink to={'/login'}>Login</NavLink> }\r\n              </div>\r\n          </div>\r\n          <div className={s.logout}>\r\n            {props.isAuth && <button onClick={props.LogoutUser}>Logout</button>}\r\n          </div>\r\n        </header>\r\n      );\r\n}\r\n\r\nexport default Header;","import axios from \"axios\"\r\n\r\nconst instance = axios.create({\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   withCredentials: true,\r\n   headers: {\r\n      \"API-KEY\": \"6937657e-e964-4c15-9936-04c475fabf96\",\r\n   },\r\n})\r\n\r\nexport const UsersAPI = {\r\n   getUsers(currentPage, pageSize) {\r\n      return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n         .then(response => {\r\n            return response.data\r\n         })\r\n   },\r\n\r\n   unfollowUser(id) {\r\n      return instance.delete(`follow/${id}`)\r\n      .then(response => response.data);\r\n   },\r\n\r\n   followUser(id) {\r\n      return instance.post(`follow/${id}`)\r\n      .then(response => response.data);\r\n   },\r\n};\r\n\r\nexport const AuthAPI = {\r\n   me() {\r\n      return instance.get('auth/me')\r\n         .then(response => response.data.data);\r\n   },\r\n\r\n   login(email, password, rememberMe) {\r\n      return instance.post('auth/login', {\r\n         email: email,\r\n         password: password,\r\n         rememberMe: rememberMe\r\n      })\r\n   },\r\n\r\n   logout() {\r\n      return instance.delete('auth/login');\r\n   }\r\n}\r\n\r\nexport const ProfileAPI = {\r\n   getProfileInformation(id) {\r\n      return instance.get(`profile/${id}`)\r\n         .then(response => response.data)\r\n   },\r\n\r\n   getProfileStatus(id) {\r\n      return instance.get(`/profile/status/${id}`)\r\n   },\r\n\r\n   updateProfileStatus(status){\r\n      return instance.put('profile/status', { status: status })\r\n   },\r\n\r\n   updateProfilePhoto(image) {\r\n      return instance.put('/profile/photo', image, {\r\n         headers: {\r\n            \"API-KEY\": \"6937657e-e964-4c15-9936-04c475fabf96\",\r\n            'Content-Type': 'multipart/form-data'\r\n         }\r\n      })\r\n   },\r\n\r\n   updateProfileInf(inf) {\r\n      return instance.put('/profile', inf)\r\n   },\r\n}\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { AuthAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst RE_AUTH_USER = \"RE_AUTH_USER\";\r\n\r\nlet initialState = {\r\n   userId: null,\r\n   email: null,\r\n   login: null,\r\n   isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_USER_DATA:{\r\n         return {\r\n            ...state,\r\n            ...action.data,\r\n            \r\n         }\r\n      }\r\n\r\n      case RE_AUTH_USER:{\r\n         return { ...state };\r\n      }\r\n\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: {userId, email, login, isAuth}});\r\n// export const reAuthUser = () => ({ type: RE_AUTH_USER });\r\nexport default authReducer;\r\n\r\nexport const AuthMe = () => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      let data = await AuthAPI.me();\r\n\r\n      if(data.login) {\r\n         let { id, email, login} = data;\r\n         dispatch(setAuthUserData(id, email, login, true));\r\n      };\r\n   }\r\n}\r\n\r\nexport const LoginUser = (email, password, remembeMe) => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      let response = await AuthAPI.login(email, password, remembeMe)\r\n\r\n      if(response.data.resultCode === 0) {\r\n         dispatch(AuthMe());\r\n      } else {\r\n         let errorMessage = (response.data.messages > 0 ) ? response.data.messages[0] : \"Some error\";\r\n         dispatch(stopSubmit( \"login\", { _error: errorMessage }))\r\n      }\r\n   }\r\n}\r\n\r\nexport const LogoutUser = () => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      let response = await AuthAPI.logout();\r\n\r\n      if(response.data.resultCode === 0) {\r\n         dispatch(setAuthUserData(null, null, null, false));\r\n      }\r\n   }\r\n}","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { LoginUser, LogoutUser } from \"../../Redux/Auth-reducer\";\r\nimport { compose } from 'redux';\r\n\r\nclass HeaderContainer extends React.Component {\r\n      render() {\r\n            return ( <Header {...this.props} ></Header>)\r\n      }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n      userId: state.auth.userId,\r\n      email: state.auth.email,\r\n      login: state.auth.login,\r\n      isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n      connect(mapStateToProps, {\r\n      LoginUser,\r\n      LogoutUser,\r\n      })\r\n)(HeaderContainer);","import React from 'react';\r\nimport s from \"./FormsControls.module.css\";\r\n\r\nexport const Element = (Element) => ({input, meta, ...props}) => {\r\n   const hasError = (meta.error && meta.touched)\r\n\r\n   return (\r\n      <div className={s.textAreaContainer}>\r\n         <Element {...input} {...props}\r\n            className={s.textArea + \" \" + (hasError ? s.error : \"\")} />\r\n         <span className={s.errorDescription}>{hasError ? meta.error : \"\"}</span>\r\n      </div>\r\n   )\r\n}\r\n\r\n\r\n// export const TextArea = ({input, meta, ...props}) => {\r\n//    const hasError = (meta.error && meta.touched)\r\n\r\n//    return (\r\n//       <div className={s.textAreaContainer}>\r\n//          <textarea {...input} {...props}\r\n//             className={s.textArea + \" \" + (hasError ? s.error : \"\")} />\r\n//          <span className={s.errorDescription}>{hasError ? meta.error : \"\"}</span>\r\n//       </div>\r\n//    )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//    const hasError = (meta.error && meta.touched)\r\n\r\n//    return (\r\n//       <div className={s.textAreaContainer}>\r\n//          <input {...input} {...props}\r\n//             className={s.textArea + \" \" + (hasError ? s.error : \"\")} />\r\n//             {hasError && <span className={s.errorDescription}>{meta.error}</span>}\r\n//          {/* <span className={s.errorDescription}>{hasError ? meta.error : \"\"}</span> */}\r\n//       </div>\r\n//    )\r\n// }\r\n\r\n","import { Field, reduxForm } from \"redux-form\";\r\nimport { required } from \"../../../utils/vallidators/validators\";\r\nimport { Element } from \"../../common/FormsControls/FormsControls\";\r\nimport s from \"./LoginForm.module.css\";\r\n\r\nconst Input = Element(\"input\")\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n   return (\r\n      <div className={s.formContainer}>\r\n         <form onSubmit={handleSubmit} className={s.form}>\r\n            <div className={s.login + \" \" + s.inputField}>\r\n               <Field\r\n                  validate={[required]}\r\n                  placeholder=\"email\"\r\n                  name={\"email\"}\r\n                  component={Input}\r\n               />\r\n            </div>\r\n            <div className={s.password + \" \" + s.inputField}>\r\n               <Field\r\n                  validate={[required]}\r\n                  placeholder=\"password\"\r\n                  name={\"password\"}\r\n                  type=\"password\"\r\n                  component={Input}\r\n               />\r\n            </div>\r\n            {error && (\r\n            <div className={s.formSummaryError}>{error}</div>\r\n            )}\r\n            <label className={s.remember}>\r\n               <Field\r\n                  type=\"checkbox\"\r\n                  name={\"rememberMe\"}\r\n                  id=\"\"\r\n                  component={\"input\"}\r\n               />\r\n               <span>Remember me</span>\r\n            </label>\r\n            <div className={s.submit}>\r\n               <button>Login</button>\r\n            </div>\r\n         </form>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport const LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm);","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport s from \"./Login.module.css\";\r\nimport { LoginReduxForm } from \"./LoginForm/LoginForm\";\r\nimport { LoginUser } from \"../../Redux/Auth-reducer\"\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n   const onSubmit = (formData) => {\r\n      props.LoginUser(formData.email, formData.password, formData.remembeMe);\r\n   }\r\n\r\n      if (props.isAuth) {\r\n         return <Redirect to={\"/profile\"} />;\r\n      }\r\n\r\n   return (\r\n      <main>\r\n         <h1>Login</h1>\r\n         <LoginReduxForm onSubmit={onSubmit}/>\r\n      </main>\r\n   );\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n   userid: state.auth.userId,\r\n   isAuth: state.auth.isAuth,\r\n   };\r\n};\r\n\r\nexport default compose(\r\n   connect( mapStateToProps, {\r\n      LoginUser\r\n   }),\r\n)(Login);","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n   return (\r\n      <div className={s.item}>\r\n        <img src=\"http://lamcdn.net/furfurmag.ru/post_image-image/UVXRb-V4bbqu3mypKBCfgg-article.jpg\" />\r\n        <div className=\"itemText\">{ props.message }</div>\r\n        <div>Likes: { props.likesCount }</div>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport s from './Posts.module.css';\r\n\r\nconst Posts = (props) => {  \r\n  return(\r\n    <div className={s.posts}>\r\n      {\r\n        props.posts.map((post) => <Post message={post.message} likesCount={post.likesCount} key={post.id} />)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Posts;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../../utils/vallidators/validators';\r\nimport { Element } from '../../../common/FormsControls/FormsControls';\r\nimport s from './NewPost.module.css';\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst TextArea = Element(\"textarea\")\r\n\r\nconst NewPostForm = (props) => {\r\n  return (\r\n    <div className={s.newPost}>\r\n      <form onSubmit={props.handleSubmit} className={s.newPostAddNews}>\r\n        <Field\r\n          name=\"newPost\"\r\n          placeholder=\"your news...\"\r\n          validate={[required, maxLength50]}\r\n          component={TextArea}\r\n        ></Field>\r\n        <button>Send</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const NewPostReduxForm = reduxForm({\r\n  form: \"newPost\",\r\n})(NewPostForm);","import s from './MyPosts.module.css';\r\nimport Posts from './Posts/Posts';\r\nimport { NewPostReduxForm } from './NewPost/NewPost';\r\nimport React from 'react';\r\n\r\nconst MyPosts = React.memo((props) => {\r\n  let addPost = (formData) => {\r\n    props.addPost(formData.newPost);\r\n  };\r\n\r\n  return (\r\n    <section className={s.myPosts}>\r\n      <h2 className={s.myPosts__title}>{props.isOwner\r\n          ? \"My posts\"\r\n          : \"Posts\"\r\n        }\r\n      </h2>\r\n      {props.isOwner && (\r\n        <NewPostReduxForm\r\n          onSubmit={addPost.bind(this)}\r\n          submitted={props.submitted}\r\n        />\r\n      )}\r\n      <Posts isOwner={props.isOwner} posts={props.myPosts.posts} />\r\n    </section>\r\n  );\r\n})\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport s from \"./StatusForm.module.css\";\r\n\r\nconst StatusForm = (props) => {\r\n  return (\r\n    <form\r\n      onSubmit={props.handleSubmit}\r\n      className={s.statusForm}\r\n    >\r\n      <Field\r\n        autoFocus=\"true\"\r\n        type=\"text\"\r\n        name=\"status\"\r\n        id=\"\"\r\n        component=\"input\"\r\n      />\r\n      <button type=\"submit\">UpdateStatus</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  initialValues: {\r\n    status: state.profileReducer.status \r\n  },\r\n  enableReinitialize: true,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, null),\r\n  reduxForm({form: \"status\"})\r\n)(StatusForm)","import React, { useState } from 'react';\r\nimport s from './ProfileStatus.module.css'\r\nimport StatusReduxForm from './StatusForm/StatusForm'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  const [editMode, setEditMode] = useState(false)\r\n  \r\n  const onSubmit = (formData) => {\r\n    props.updateProfileStatus(formData.status, props.myId);\r\n\r\n    setEditMode(false);\r\n  };\r\n\r\n  return (\r\n    <div onDoubleClick={() => setEditMode(true)}>\r\n      <span>\r\n        Status:\r\n        {editMode \r\n          ? <StatusReduxForm\r\n              status={props.status}\r\n              setEditMode={setEditMode}\r\n              onSubmit={onSubmit}\r\n            />\r\n          : props.status\r\n        }\r\n      </span>\r\n      {/* {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={() => setEditMode(true)}>\r\n            Status: {props.status}\r\n          </span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <StatusReduxForm\r\n          status={props.status}\r\n          setEditMode={setEditMode}\r\n          onSubmit={onSubmit}\r\n        />\r\n      )} */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","export default __webpack_public_path__ + \"static/media/1473.0f0c7a6c.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/1473.gif\";\r\n\r\nlet Preloader = () => {\r\n   return ( \r\n      <div>\r\n         <img src={preloader} />\r\n      </div>   \r\n   )\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport s from \"./Checkboxes.module.css\";\r\n\r\nconst Checkboxes = (props) => {\r\n  return (\r\n    <fieldset>\r\n      <label>\r\n        <span>Yes</span>\r\n        <input\r\n          name=\"loogingForaJoB\"\r\n          value=\"Yes\"\r\n          type=\"radio\"\r\n          checked={props.LookingForAJobFormValue}\r\n          onClick={() => props.change(\"lookingForAJob\", true )}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>No</span>\r\n        <input\r\n          name=\"loogingForaJoB\"\r\n          value=\"No\"\r\n          type=\"radio\"\r\n          checked={!props.LookingForAJobFormValue}\r\n          onClick={() => props.change(\"lookingForAJob\", false )}\r\n        />\r\n      </label>\r\n    </fieldset>\r\n  );\r\n}\r\n\r\nexport default Checkboxes;","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { Field, formValueSelector, reduxForm } from 'redux-form';\r\nimport Checkboxes from './Checkboxes/Checkboxes';\r\nimport s from \"./ProfileInfForm.module.css\";\r\n\r\n\r\nconst ProfileInfForm = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={props.handleSubmit}\r\n      className={`${s.profileInformation__text} ${s.text}`}\r\n    >\r\n      <div className={s.text__name + \" \" + s.text_item}>\r\n        {\r\n          props.profileInformation.fullName\r\n            ? props.profileInformation.fullName\r\n            : \"Noname\"\r\n        }\r\n        {editMode && <Field name=\"fullName\" component=\"input\" />}\r\n      </div>\r\n      <div className={s.text_item}>\r\n        About me: \r\n        {\r\n          editMode\r\n            ? <Field name=\"aboutMe\" component=\"input\" />\r\n            : props.profileInformation.aboutMe\r\n        }\r\n      </div>\r\n      <div className={s.text_item}>\r\n        Looking for a job:\r\n        {\r\n          editMode \r\n            ? (<Field \r\n                name=\"lookingForAJob\" \r\n                change={props.change} \r\n                component={Checkboxes} \r\n                LookingForAJobFormValue={props.LookingForAJobFormValue}\r\n              />)\r\n            : (props.profileInformation.lookingForAJob ? \"Yes\" : \"No\")\r\n        }\r\n      </div>\r\n      <div className={s.text_item}>\r\n        Professional skills:\r\n        { editMode \r\n            ? <Field name=\"lookingForAJobDescription\" component=\"input\" />\r\n            : props.profileInformation.lookingForAJobDescription\r\n        }\r\n      </div>\r\n      <div>\r\n        Contacts:\r\n        {\r\n          Object.entries(props.profileInformation.contacts).map(\r\n            (item, index) => (\r\n              <Contact\r\n                contactTitlle={item[0]}\r\n                contactValue={item[1]}\r\n                editMode={editMode}\r\n                key={index}\r\n              />\r\n            )\r\n          )\r\n        }\r\n      </div>\r\n      {\r\n        editMode \r\n        ? <button onClick={() => setEditMode(false)} type=\"submit\">Update information</button>\r\n        : <button onClick={(e) => {e.preventDefault(); setEditMode(true)}}>\r\n          Change information\r\n          </button>\r\n      }\r\n    </form>\r\n  );\r\n};\r\n\r\nconst Contact = (props) => {\r\n  return (\r\n    <div>\r\n      {props.contactTitlle}: \r\n      {\r\n        props.editMode \r\n          ? <Field name={props.contactTitlle} component=\"input\"/> \r\n          : props.contactValue\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst selector = formValueSelector(\"profileInformation\")\r\n\r\nconst mapStateToProps = (state) => {\r\n  const LookingForAJobFormValue = selector(state, 'lookingForAJob')\r\n\r\n  return {\r\n    LookingForAJobFormValue,\r\n    initialValues: {\r\n      fullName: state.profileReducer.profileInformation.fullName,\r\n      aboutMe: state.profileReducer.profileInformation.aboutMe,\r\n      lookingForAJob: state.profileReducer.profileInformation.lookingForAJob,\r\n      lookingForAJobDescription: state.profileReducer.profileInformation.lookingForAJobDescription,\r\n      github: state.profileReducer.profileInformation.contacts.github,\r\n      vk: state.profileReducer.profileInformation.contacts.vk,\r\n      facebook: state.profileReducer.profileInformation.contacts.facebook,\r\n      instagram: state.profileReducer.profileInformation.contacts.instagram,\r\n      twitter: state.profileReducer.profileInformation.contacts.twitter,\r\n      website: state.profileReducer.profileInformation.contacts.website,\r\n      youtube: state.profileReducer.profileInformation.contacts.youtube,\r\n      mainLink: state.profileReducer.profileInformation.contacts.mainLink,\r\n    },\r\n    enableReinitialize: true,\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, null),\r\n  reduxForm({form: \"profileInformation\"})\r\n)(ProfileInfForm);\r\n\r\n// export const ProfileInfReduxForm = reduxForm({\r\n//   form: \"profileInf\",\r\n// })(ProfileInfForm);","import React from 'react';\r\nimport s from './ProfileInformation.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatus/ProfileStatusWithHooks';\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport ProfileInfReduxForm from './ProfileInfForm/ProfileInfForm';\r\n\r\nconst ProfileInformation = (props) => {\r\n  const onAvatarChange = (e) => {\r\n    if (e.target.files.length) {\r\n      let image = e.target.files[0];\r\n      props.updateProfilePhotos(image);\r\n    }\r\n  };\r\n\r\n  const onSubmit = (formData) => {\r\n    let newProfileInformation = {\r\n      userId: props.myId,\r\n      aboutMe: formData.aboutMe,\r\n      photos: {\r\n        large: props.profileInformation.photos.large,\r\n        small: props.profileInformation.photos.small,\r\n      },\r\n      lookingForAJob: formData.lookingForAJob,\r\n      lookingForAJobDescription: formData.lookingForAJobDescription,\r\n      fullName: formData.fullName,\r\n      contacts: {\r\n        github: formData.github,\r\n        vk: formData.vk,\r\n        facebook: formData.facebook,\r\n        instagram: formData.instagram,\r\n        twitter: formData.twitter,\r\n        website: formData.website,\r\n        youtube: formData.youtube,\r\n        mainLink: formData.mainLink,\r\n      },\r\n    };\r\n\r\n    props.updateProfileInf(newProfileInformation);\r\n  }\r\n\r\n  return (\r\n    <section className={s.profileInformation}>\r\n      <div className={s.avatar_field}>\r\n        <div className={s.avatar_photo}>\r\n          {props.profilePhotoIsFetching ? (\r\n            <Preloader />\r\n          ) : (\r\n            <UserAvatar\r\n              photos={props.profileInformation.photos}\r\n              toggleProfilePhotoIsFetching={props.toggleProfilePhotoIsFetching}\r\n            />\r\n          )}\r\n        </div>\r\n        {props.isOwner && (\r\n          <div className={s.avatar_settings}>\r\n            <form className={s.avatar_changePhoto}>\r\n              <input type=\"file\" onChange={onAvatarChange}></input>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <ProfileInfReduxForm\r\n        onSubmit={onSubmit}\r\n        profileInformation={props.profileInformation}\r\n      />\r\n      <ProfileStatusWithHooks\r\n        myId={props.myId}\r\n        status={props.status}\r\n        updateProfileStatus={props.updateProfileStatus}\r\n      />\r\n    </section>\r\n  );\r\n}\r\n\r\nconst Contact = (props) => {\r\n  return (\r\n    <p>{props.contactTitlle}: {props.contactValue}</p>\r\n  )\r\n}\r\n\r\nconst UserAvatar = (props) => {\r\n//!!!! photo.large - ссылка, она true, когда картинка еще не загрузилась. Видимо,\r\n//!!!! нужно в src делать проверку????\r\n  return (\r\n    <img\r\n      src={\r\n        props.photos.large\r\n          ? props.photos.large\r\n          : \"https://www.film.ru/sites/default/files/filefield_paths/maxresdefault_1_24.jpg\"\r\n      }\r\n    ></img>\r\n  );\r\n}\r\n\r\nexport default ProfileInformation;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport ProfileInformation from './ProfileInformation/ProfileInformation';\r\n\r\nconst Profile = (props) => {\r\n  \r\n  if (!props.isAuth) return <Redirect to='/login'/>\r\n\r\n    return (\r\n      <div>\r\n        {/* <ProfileHeader /> */}\r\n        <ProfileInformation\r\n          myId={props.myId}\r\n          status={props.status}\r\n          profileInformation={props.profileInformation}\r\n          updateProfileStatus={props.updateProfileStatus}\r\n          updateProfilePhotos={props.updateProfilePhotos}\r\n          updateProfileInf={props.updateProfileInf}\r\n          profilePhotoIsFetching={props.profilePhotoIsFetching}\r\n          toggleProfilePhotoIsFetching={props.toggleProfilePhotoIsFetching}\r\n          isOwner={props.isOwner}\r\n        />\r\n        <MyPosts\r\n          addPost={props.addPost}\r\n          updateNewPost={props.updateNewPost}\r\n          myPosts={props.myPosts}\r\n          isOwner={props.isOwner}\r\n        />\r\n      </div>\r\n    );\r\n}\r\n\r\nexport {\r\n  Profile,\r\n}","import { UsersAPI } from \"../api/api\";\r\n\r\nconst CHANGE_FOLLOW = \"CHANGE_FOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"TOGGLE_FOLLOWING_IN_PROGRESS\";\r\n\r\nlet initialState = {\r\n   users: [/*\r\n      { id: 1, followed: true, userInf: {fullName: \"Grigoriy Kuznezov\", status: \"Ебу коменду за матрас\", location: {city: \"Междуреченск\", country: \"Russia\"}} },\r\n      { id: 2, followed: true, userInf: {fullName: \"Nikolay Latkin\", status: \"Скучно на трех работах, развлекаюсь как могу\", location: {city: \"Краснодырск\", country: \"Russia\"}} },\r\n      { id: 3, followed: false, userInf: {fullName: \"Vladimir Tashinskiy\", status: \"Все как и на первом курсе\", location: {city: \"Воронежегрязинск\", country: \"Russia\"}} },\r\n      { id: 4, followed: true, userInf: {fullName: \"Maksim Sokolov\", status: \"Пивко смешаю с водкой: ерж пиздец колючий\", location: {city: \"Краснодырск\", country: \"Russia\"}} },\r\n      { id: 5, followed: true, userInf: {fullName: \"Elmira Abramova\", status: \"Резницы слиплись от холода. Переберусь- ка еще посевернее\", location: {city: \"Petrozavods State University\", country: \"Russia\"}} },\r\n      { id: 6, followed: false, userInf: {fullName: \"Artem Schiva\", status: \"Опять приходил Артем, нажрался как сука\", location: {city: \"Краснодырск\", country: \"Russia\"}} },\r\n      { id: 7, followed: false, userInf: {fullName: \"Grigoriy Kuznezov\", status: \"Ебу коменду за матрас\", location: {city: \"Междуреченск\", country: \"Russia\"}} },\r\n   */],\r\n   maxPagesToShowCount: 10,\r\n   pageSize: 5,\r\n   totalUsersCount: 0,\r\n   currentPage: 1,\r\n   isFetching: false,\r\n   isFollowingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case CHANGE_FOLLOW:{\r\n         return {\r\n            ...state, \r\n            users: state.users.map( user => {\r\n               if(user.id === action.userId) {\r\n                  return {...user, followed: !user.followed}\r\n               }\r\n               return user;\r\n            })\r\n         }\r\n      }\r\n\r\n      case SET_USERS:{\r\n         return {\r\n            ...state, users: [...action.users] }\r\n      }\r\n\r\n      case SET_CURRENT_PAGE:{\r\n         return {\r\n            ...state, currentPage: action.currentPage, }\r\n      }\r\n\r\n      case SET_TOTAL_USERS_COUNT:{\r\n         return {\r\n            ...state, totalUsersCount: action.totalUsersCount,  }\r\n      }\r\n\r\n      case TOGGLE_IS_FETCHING:{\r\n         return {\r\n            ...state, isFetching: !state.isFetching, }\r\n      }\r\n\r\n      case TOGGLE_FOLLOWING_IN_PROGRESS:{\r\n         return {\r\n            ...state,\r\n            isFollowingInProgress: action.isFetching ? \r\n               [...state.isFollowingInProgress, action.userId] :\r\n               state.isFollowingInProgress.filter(id => id !== action.userId),\r\n         }\r\n      }\r\n   \r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport const changeFollowStatus = (id) => ({ type: CHANGE_FOLLOW , userId: id });\r\nexport const setUsers = (users) => ({ type: SET_USERS , users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount });\r\nexport const toggleIsFetching = () => ({ type: TOGGLE_IS_FETCHING });\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({ type: TOGGLE_FOLLOWING_IN_PROGRESS, isFetching, userId });\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      dispatch(toggleIsFetching());\r\n\r\n      let data = await UsersAPI.getUsers(currentPage, pageSize);\r\n\r\n      dispatch(toggleIsFetching());\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalUsersCount(data.totalCount));\r\n      dispatch(setCurrentPage(currentPage));\r\n   }\r\n}\r\n\r\nexport const changeFollow = (id, followStatus) => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      dispatch(toggleFollowingInProgress(true, id));\r\n      \r\n      let apiMethod = followStatus \r\n         ? UsersAPI.unfollowUser.bind(this) \r\n         : UsersAPI.followUser.bind(this)\r\n\r\n      let data = await apiMethod(id);\r\n\r\n      if (!data.resultCode) {\r\n         dispatch(changeFollowStatus(id));\r\n         dispatch(toggleFollowingInProgress(false, id));\r\n      }\r\n   }\r\n}\r\n\r\nexport default usersReducer;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n   return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n   return users.filter(u => true);\r\n});\r\n\r\nexport const getMaxPagesToShowCount = (state) => {\r\n   return state.usersPage.maxPagesToShowCount\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n   return state.usersPage.pageSize\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n   return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n   return state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n   return state.usersPage.isFetching\r\n};\r\n\r\nexport const getIsFollowingInProgress = (state) => {\r\n   return state.usersPage.isFollowingInProgress\r\n};","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport s from \"./Paginator.module.css\";\r\n\r\nlet Paginator = (props) => {\r\n   const [startPageNumber, changeStartPageNumber] = useState(1)\r\n\r\n   let pagesCount = Math.ceil(props.totalItemsCount / props.maxItemsCount);\r\n   let pagesToShowCount;\r\n\r\n   if(pagesCount) {     //!Чтобы не показывало 1 страницу в момент запроса на сервер\r\n      pagesToShowCount = Math.min(\r\n         props.maxPagesToShowCount,\r\n         Math.max(pagesCount - startPageNumber + 1, 1)\r\n      );\r\n   }\r\n\r\n   let pages = [];\r\n   for (let i = startPageNumber; i < startPageNumber + pagesToShowCount; i++) {\r\n      pages.push(i);\r\n   }\r\n\r\n   const showPrevPages = (addingPages) => {\r\n      changeStartPageNumber(Math.max(startPageNumber - addingPages, 1));\r\n   };\r\n\r\n   const showNextPages = (deductingPages) => {\r\n      changeStartPageNumber(Math.min(startPageNumber + deductingPages, pagesCount));\r\n   };\r\n\r\n   return (\r\n      <div>\r\n         {\r\n            startPageNumber > props.maxPagesToShowCount &&\r\n                  <button onClick={() => showPrevPages(props.maxPagesToShowCount)}>Prev</button>\r\n         }\r\n         {pages.map((page) => {\r\n            return (\r\n               <span\r\n                  className={page === props.currentPage ? s.selectedPage : \"\"}\r\n                  onClick={() => {\r\n                     props.onPageChanged(page);\r\n                  }}\r\n                  key={page - 1}\r\n               >\r\n                  {page}\r\n               </span>\r\n            );\r\n         })}\r\n         {\r\n            pagesCount >= startPageNumber + props.maxPagesToShowCount &&\r\n               <button onClick={() => showNextPages(props.maxPagesToShowCount)}>Next</button>\r\n         }\r\n      </div>\r\n      );\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from \"./UserInf.module.css\";\r\n\r\nconst UserInf = (props) => {\r\n  return (\r\n    <section className={s.userInf}>\r\n      <div className={s.headInf}>\r\n        <p className={s.userFullName}>{props.user.name}</p>\r\n        <p className={s.userStatus}>{props.user.status}</p>\r\n      </div>\r\n      <div className={s.userLocation}>\r\n        <p className={s.userLocationCity}>{\"props.userInf.location.city\"}</p>\r\n        <p className={s.userLocationCountry}>\r\n          {\"props.userInf.location.country\"}\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default UserInf;\r\n","import React from \"react\";\r\nimport s from \"./FollowButton.module.css\";\r\n\r\nconst FollowButton = (props) => {\r\n\r\n  let changeFollow = () => {\r\n  props.changeFollow(props.id, props.followed);\r\n  };\r\n\r\n  return (\r\n    <button\r\n      disabled={props.isFollowingInProgress.some(id => id === props.id)}\r\n      onClick={changeFollow}\r\n      className={s.userFollowed}\r\n    >\r\n      {props.followed ? \"folllow\" : \"unfollow\"}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FollowButton;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UsersAPI } from \"../../../../../api/api\";\r\nimport FollowButton from \"./FollowButton/FollowButton\";\r\nimport s from \"./UserPresent.module.css\";\r\n\r\nconst UserPresent = (props) => {\r\n  return (\r\n    <section className={s.userPresent}>\r\n      <NavLink to={\"/profile/\" + props.id}>\r\n        <div className={s.userAvatar}>\r\n          <img></img>\r\n        </div>\r\n      </NavLink>\r\n      <FollowButton\r\n        id={props.id}\r\n        followed={props.followed}\r\n        changeFollow={props.changeFollow}\r\n        isFollowingInProgress={props.isFollowingInProgress}\r\n        toggleFollowingInProgress={props.toggleFollowingInProgress}\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default UserPresent;\r\n","import React from \"react\";\r\nimport s from \"./User.module.css\";\r\nimport UserInf from \"./UserInf/UserInf\";\r\nimport UserPresent from \"./UserPresent/UserPresent\";\r\n\r\nconst User = (props) => {\r\n  return (\r\n    <div className={s.user}>\r\n      <UserPresent\r\n        buttons={props.buttons}\r\n        setButton={props.setButton}\r\n        id={props.user.id}\r\n        followed={props.user.followed}\r\n        changeFollow={props.changeFollow}\r\n        isFollowingInProgress={props.isFollowingInProgress}\r\n        toggleFollowingInProgress={props.toggleFollowingInProgress}\r\n      />\r\n      <UserInf user={props.user} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../../common/Paginator/Paginator'\r\nimport User from './User/User';\r\nimport s from \"./UsersList.module.css\";\r\n\r\nlet UsersList = (props) => {\r\n   return (\r\n      <div className={s.usersList}>\r\n         <Paginator\r\n            totalItemsCount={props.totalUsersCount}\r\n            maxPagesToShowCount={props.maxPagesToShowCount}\r\n            maxItemsCount={props.pageSize}\r\n            currentPage={props.currentPage}\r\n            onPageChanged={props.onPageChanged}\r\n         />\r\n         {\r\n            props.users.map((user) => (\r\n               <User\r\n                  isFollowingInProgress={props.isFollowingInProgress}\r\n                  toggleFollowingInProgress={props.toggleFollowingInProgress}\r\n                  changeFollow={props.changeFollow}\r\n                  user={user}\r\n                  key={user.id}\r\n               />\r\n            ))\r\n         }\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default UsersList;","import { connect } from \"react-redux\";\r\nimport {\r\n  changeFollow,\r\n  requestUsers,\r\n  setCurrentPage,\r\n} from \"../../../Redux/Users-reducer\";\r\nimport React from \"react\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport { withAuthRedirect } from \"../../../hoc/AuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getIsFollowingInProgress,\r\n  getPageSize,\r\n  getMaxPagesToShowCount,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n} from \"../../../Redux/users-reselect\";\r\nimport { useEffect } from \"react\";\r\nimport UsersList from \"./UsersList\";\r\n\r\nconst UsersListContainer = (props) => {\r\n  let currentPage = props.currentPage;\r\n  let pageSize = props.pageSize;\r\n\r\n  useEffect(() => {\r\n    props.requestUsers(currentPage, pageSize);\r\n\r\n    // return (\r\n    //   props.setCurrentPage(1)\r\n    // )\r\n  }, [currentPage, pageSize]);\r\n\r\n  const onPageChanged = (pageNumber) => {\r\n    props.requestUsers(pageNumber, props.pageSize);\r\n  };\r\n  return (\r\n    <>\r\n      {props.isFetching ? <Preloader /> : null}\r\n      <UsersList\r\n        totalUsersCount={props.totalUsersCount}\r\n        maxPagesToShowCount={props.maxPagesToShowCount}\r\n        pageSize={props.pageSize}\r\n        currentPage={props.currentPage}\r\n        onPageChanged={onPageChanged}\r\n        users={props.users}\r\n        changeFollow={props.changeFollow}\r\n        isFollowingInProgress={props.isFollowingInProgress}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    maxPagesToShowCount: getMaxPagesToShowCount(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    isFollowingInProgress: getIsFollowingInProgress(state),\r\n  };\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, \r\n    { changeFollow, \r\n      requestUsers, \r\n      setCurrentPage }),\r\n  withAuthRedirect\r\n)(UsersListContainer);\r\n\r\n\r\n","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport UsersListContainer from \"./UsersList/UsersListContainer\"\r\n\r\nconst Users = (props) => {\r\n   return (\r\n      <section className={s.users}>\r\n         <div className={s.usersTitle}>Users</div>\r\n         <div className={s.usersBody}>\r\n            <UsersListContainer/>\r\n         </div>\r\n      </section>\r\n   )\r\n}\r\n\r\nexport default Users;\r\n","import { AuthMe } from \"./Auth-reducer\";\r\n\r\nconst SET_INITIALIZE = \"SET_INITIALIZE\";\r\n\r\nlet initialState = {\r\n   initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_INITIALIZE:{\r\n         return {\r\n            ...state,\r\n            initialized: true,\r\n         }\r\n      }\r\n\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZE });\r\nexport default appReducer;\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n   let promises = [];\r\n   promises.push(dispatch(AuthMe()));\r\n\r\n   Promise.all(promises)\r\n      .then(() => {\r\n         dispatch(initializedSuccess());\r\n      });\r\n};","import { ProfileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_PROFILE_INFORMATION = \"SET_PROFILE_INFORMATION\";\r\nconst SET_PROFILE_STATUS = \"SET_PROFILE_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SET_PROFILE_PHOTOS = \"SET_PROFILE_PHOTOS\";\r\nconst TOGGLE_PROFILE_PHOTO_IS_FETCHING = \"TOGGLE_PROFILE_PHOTO_IS_FETCHING\";\r\n\r\nlet initialState = {\r\n   profileInformation: {\r\n      photos: {\r\n         large: null,\r\n         small: null,\r\n         isFetching: false,\r\n      },\r\n      fullName: \" \",\r\n      aboutMe: null,\r\n      lookingForAJob: null,\r\n      lookingForAJobDescription: null,\r\n      contacts: {\r\n         github: null,\r\n         vk: null,\r\n         facebook: null,\r\n         instagram: null,\r\n         twitter: null,\r\n         website: null,\r\n         youtube: null,\r\n         mainLink: null,\r\n      },\r\n      id: null,\r\n   },\r\n\r\n   status: \"\",\r\n\r\n   myPosts : {\r\n      posts : [\r\n         {id: 0, message: 'Hi! How are you?', likesCount: 1},\r\n         {id: 1, message: 'Hi! How are you?', likesCount: 4},\r\n         {id: 2, message: 'Hi! How are you?', likesCount: 3},\r\n         {id: 3, message: 'Hi! How are you?', likesCount: 2},\r\n      ],\r\n   },\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case ADD_POST:{\r\n         let newPost = {\r\n         id: state.myPosts.posts.length,\r\n         message: action.newPostText,\r\n         likesCount: 0,\r\n         }\r\n\r\n         return {\r\n            ...state,\r\n            myPosts: {\r\n               ...state.myPosts,\r\n               posts: [\r\n                  ...state.myPosts.posts,\r\n                  newPost,\r\n               ]\r\n            }\r\n         }\r\n      }\r\n      \r\n      case DELETE_POST:{\r\n         return {\r\n            ...state,\r\n            myPosts: {\r\n               ...state.myPosts,\r\n               posts: state.myPosts.posts.filter(p => p.id !== action.postId)\r\n            }\r\n         }\r\n      }\r\n      \r\n      case SET_PROFILE_INFORMATION:{\r\n         return {\r\n            ...state,\r\n            profileInformation: {\r\n               ...state.profileInformation,\r\n               photos: {\r\n                  ...state.profileInformation.photos,\r\n                  large: action.profileInformation.photos.large,\r\n                  small: action.profileInformation.photos.small,\r\n               },\r\n               aboutMe: action.profileInformation.aboutMe,\r\n               lookingForAJob: action.profileInformation.lookingForAJob,\r\n               lookingForAJobDescription: action.profileInformation.lookingForAJobDescription,\r\n               fullName: action.profileInformation.fullName,\r\n               contacts: {\r\n                  github: action.profileInformation.contacts.github,\r\n                  vk: action.profileInformation.contacts.vk,\r\n                  facebook: action.profileInformation.contacts.facebook,\r\n                  instagram: action.profileInformation.contacts.instagram,\r\n                  twitter: action.profileInformation.contacts.twitter,\r\n                  website: action.profileInformation.contacts.website,\r\n                  youtube: action.profileInformation.contacts.youtube,\r\n                  mainLink: action.profileInformation.contacts.mainLink,\r\n               },\r\n               id: action.profileInformation.userId,\r\n            }\r\n         }\r\n      }\r\n\r\n      case SET_PROFILE_STATUS:{\r\n         return {\r\n            ...state,\r\n            status: action.status\r\n         }\r\n      }\r\n\r\n      case SET_PROFILE_PHOTOS:{\r\n         return {\r\n            ...state,\r\n            profileInformation: {\r\n               ...state.profileInformation,\r\n               photos: {\r\n                  ...state.profileInformation.photos,\r\n                  large: action.images.large,\r\n                  small: action.images.small\r\n               }\r\n            }\r\n         }\r\n      }\r\n\r\n      case TOGGLE_PROFILE_PHOTO_IS_FETCHING:{\r\n         return {\r\n            ...state,\r\n            profileInformation: {\r\n               ...state.profileInformation,\r\n               photos: {\r\n                  ...state.profileInformation.photos,\r\n                  isFetching: !state.profileInformation.photos.isFetching\r\n               }\r\n            }\r\n         }\r\n      }\r\n   \r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setProfileStatus = (status) => ({ type: SET_PROFILE_STATUS, status });\r\nexport const setProfileInformation = (profileInformation) => ({type: SET_PROFILE_INFORMATION, profileInformation});\r\nexport const toggleProfilePhotoIsFetching = () => ({type: TOGGLE_PROFILE_PHOTO_IS_FETCHING})\r\nexport const setProfilePhotos = (images) => ({type:SET_PROFILE_PHOTOS, images})\r\nexport default profileReducer;\r\n\r\nexport const setProfile = (userId) => {\r\n   \r\n   return async (dispatch) => {\r\n      dispatch(toggleProfilePhotoIsFetching());\r\n\r\n      let data = await ProfileAPI.getProfileInformation(userId);\r\n      dispatch(setProfileInformation(data));\r\n\r\n      let response = await ProfileAPI.getProfileStatus(userId);\r\n      dispatch(setProfileStatus(response.data));\r\n      dispatch(toggleProfilePhotoIsFetching());\r\n   }\r\n};\r\n\r\nexport const updateProfileStatus = (status) => {\r\n   \r\n   return async (dispatch) => {\r\n      let response = await ProfileAPI.updateProfileStatus(status);\r\n\r\n      if(response.data.resultCode === 0 ){\r\n         dispatch(setProfileStatus(status));\r\n      }\r\n   }\r\n};\r\n\r\nexport const updateProfilePhotos = (image) => {\r\n   let formData = new FormData();\r\n   formData.append(\"image\", image)\r\n\r\n   return async (dispatch) => {\r\n      dispatch(toggleProfilePhotoIsFetching());\r\n\r\n      let response = await ProfileAPI.updateProfilePhoto(formData);\r\n\r\n      if(response.data.resultCode === 0) {\r\n         dispatch(setProfilePhotos(response.data.data.photos));\r\n      }\r\n\r\n      dispatch(toggleProfilePhotoIsFetching());\r\n   }\r\n}\r\n\r\nexport const updateProfileInf = (profileInformation) => {\r\n\r\n   return async (dispatch) => {\r\n\r\n      let response = await ProfileAPI.updateProfileInf(profileInformation);\r\n\r\n      if(response.data.resultCode === 0) {\r\n         dispatch(setProfileInformation(profileInformation));\r\n      }\r\n   }\r\n}","export const getProfilePhotos = (state) => {\r\n   return state.profileReducer.profileInformation.photos\r\n};\r\n\r\nexport const getProfilePhotoIsFetching = (state) => {\r\n   return state.profileReducer.profileInformation.photos.isFetching\r\n};","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Profile } from './Profile';\r\nimport {\r\n  addPost,\r\n  setProfile,\r\n  updateProfileStatus,\r\n  updateProfilePhotos,\r\n  toggleProfilePhotoIsFetching,\r\n  updateProfileInf,\r\n} from \"../../Redux/Profile-reducer\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/AuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getProfilePhotoIsFetching, getProfilePhotos } from \"../../Redux/Profile-reselect\";\r\n\r\n\r\nconst ProfileContainer = (props) => {\r\n  // componentDidMount() {\r\n  //   let userId = this.props.match.params.userId; ////!Из данных, передаваемых с WithRouter\r\n  //   if(userId) {\r\n  //     this.props.setProfile(userId);\r\n  //   } else {\r\n  //     this.props.setProfile(this.props.myId);\r\n  //   }\r\n  // }\r\n  let userId = props.match.params.userId; ////!Из данных, передаваемых с WithRouter\\\r\n  let myId = props.myId;\r\n\r\n  useEffect(() => {\r\n    userId ? props.setProfile(userId) : props.setProfile(myId);\r\n  }, [userId, myId]);\r\n\r\n  return <Profile {...props} isOwner={!userId} />;\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profileInformation: state.profileReducer.profileInformation,\r\n    myPosts: state.profileReducer.myPosts,\r\n    status: state.profileReducer.status,\r\n    photos: getProfilePhotos(state),\r\n    profilePhotoIsFetching: getProfilePhotoIsFetching(state),\r\n    myId: state.auth.userId,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setProfile,\r\n    addPost,\r\n    updateProfileStatus,\r\n    updateProfilePhotos,\r\n    toggleProfilePhotoIsFetching,\r\n    updateProfileInf,\r\n  }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);","let initialState = {\r\n   pages : [\r\n      {id: 0, name: \"Profile\", NavLink: \"/profile\"},\r\n      {id: 1, name: \"Messages\", NavLink: \"/dialogs\"},\r\n      {id: 2, name: \"News\", NavLink: \"/news\"},\r\n      {id: 3, name: \"Music\", NavLink: \"/music\"},\r\n      {id: 4, name: \"Setting\", NavLink: \"/settings\"},\r\n      {id: 5, name: \"Find Users\", NavLink: \"/users\"},\r\n   ],\r\n   friends: [\r\n      { id: 1, name: \"Grigoriy Kuznezov\", },\r\n      { id: 2, name: \"Nikolay Latkin\", },\r\n      { id: 3, name: \"Vladimir Tashinskiy\", },\r\n      { id: 4, name: \"Maksim Sokolov\", },\r\n      { id: 5, name: \"Elmira Abramova\", },\r\n      { id: 6, name: \"Artem Schiva\", },\r\n   ],\r\n};\r\n\r\nconst asideReducer = (state = initialState, action) => {\r\n   return state;\r\n}\r\n\r\nexport default asideReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport asideReducer from \"./Aside-reducer\";\r\nimport authReducer from \"./Auth-reducer\";\r\nimport dialogsReducer from \"./Dialogs-reducer\";\r\nimport profileReducer from \"./Profile-reducer\"; \r\nimport usersReducer from \"./Users-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport axios from \"axios\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./App-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n   auth: authReducer,\r\n   profileReducer: profileReducer,\r\n   dialogsReducer: dialogsReducer,\r\n   asideReducer: asideReducer,\r\n   usersPage: usersReducer,\r\n   form: formReducer,\r\n   app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nwindow.axios = axios;\r\n\r\nexport default store;","import React from 'react';\nimport { connect, Provider } from 'react-redux';\nimport { Route } from 'react-router';\nimport { HashRouter, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport './App.css';\nimport Aside from './components/Aside/Aside';\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { Profile } from './components/Profile/Profile';\nimport Users from './components/Users/Users';\nimport { initializeApp } from './Redux/App-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport ProfileContainer from './components/Profile/ProfileContainer'\nimport store from './Redux/redux-store';\nimport { WithSuspense } from './hoc/WithSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\nclass App extends React.Component {\n  componentDidMount() { \n    this.props.initializeApp();\n  };\n  \n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n    return (\n      <div className=\"wrapper\">\n        <HeaderContainer></HeaderContainer>\n        <Aside></Aside>\n        <main className=\"content\">\n          <Route path=\"/profile/:userId?\" \n          render={ () => <ProfileContainer/> } />\n          \n          <Route path=\"/dialogs\" \n            render={ () => WithSuspense(DialogsContainer)} />\n          \n          <Route path=\"/news\" component={ Profile } />\n          <Route path=\"/music\" component={ Profile } />\n          <Route path=\"/settings\" component={ Profile } />\n          <Route path=\"/users\" \n            render={ () => <Users/> } />\n          <Route path=\"/login\" \n            render={ () => <Login/>} />\n        </main>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  }\n}\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {\n    initializeApp,\n  })\n)(App)\n\nconst MyApp = (props) => {\n  return <HashRouter>\n    <Provider store={store}>\n      <AppContainer/>\n    </Provider>\n  </HashRouter>\n}\n\nexport default MyApp;\n","import React from \"react\";\r\nimport { Suspense } from \"react\";\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const WithSuspense = (Component) => {\r\n      \r\n      return (<Suspense fallback={<Preloader/>}>\r\n         <Component />\r\n      </Suspense>)\r\n};\r\n\r\n// export default WithSuspense","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport reactDom from 'react-dom'; \nimport MyApp from './App';\nimport './index.css';\nimport store from './Redux/redux-store';\nimport reportWebVitals from './reportWebVitals';\n\nexport let rerenderEntireTree = (state) => {\n   reactDom.render(\n      <React.StrictMode>\n         <MyApp appState={ state } dispatch={ store.dispatch.bind(store) } />\n      </React.StrictMode>,\n      document.getElementById('root')\n   );\n}\n\nrerenderEntireTree(store.getState());\n\nstore.subscribe(() => {\n   rerenderEntireTree(store.getState())\n})\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInformation\":\"ProfileInfForm_profileInformation__NFLpr\",\"avatar_field\":\"ProfileInfForm_avatar_field__2pMhx\",\"avatar_photo\":\"ProfileInfForm_avatar_photo__3Unih\",\"avatar_settings\":\"ProfileInfForm_avatar_settings__1cH2f\",\"avatar_changePhoto\":\"ProfileInfForm_avatar_changePhoto__13geT\",\"profileInformation__text\":\"ProfileInfForm_profileInformation__text__2LEQc\",\"text_item\":\"ProfileInfForm_text_item__3rX4V\",\"text__name\":\"ProfileInfForm_text__name__1dzL6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInf\":\"UserInf_userInf__ahEMP\",\"headInf\":\"UserInf_headInf__tQygY\",\"userFullName\":\"UserInf_userFullName__gfwWz\",\"userStatus\":\"UserInf_userStatus__1tOoN\",\"userLocation\":\"UserInf_userLocation__1Vmek\",\"userLocationCity\":\"UserInf_userLocationCity__1GHLr\",\"userLocationCountry\":\"UserInf_userLocationCountry__2Fue2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInformation\":\"ProfileInformation_profileInformation__1Vf5q\",\"avatar_field\":\"ProfileInformation_avatar_field__1h20q\",\"avatar_photo\":\"ProfileInformation_avatar_photo__KX_I1\",\"avatar_settings\":\"ProfileInformation_avatar_settings__3QrP3\",\"avatar_changePhoto\":\"ProfileInformation_avatar_changePhoto__chop6\",\"profileInformation__text\":\"ProfileInformation_profileInformation__text__20VHi\",\"text__name\":\"ProfileInformation_text__name__2E3J9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__YMBtf\",\"loginContainer\":\"Header_loginContainer__1T8h8\",\"login\":\"Header_login__qXReK\",\"logout\":\"Header_logout__29yXe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textAreaContainer\":\"FormsControls_textAreaContainer__2wm6S\",\"textArea\":\"FormsControls_textArea__3d2qV\",\"error\":\"FormsControls_error__1zw1d\",\"errorDescription\":\"FormsControls_errorDescription__198kT\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\"\r\n\r\nlet mapStateToRedirect = (state) => ({\r\n      isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n   \r\n   class RedirectComponent extends React.Component {\r\n      render() {\r\n         if(!this.props.isAuth) return <Redirect to='/login'/>\r\n\r\n         return <Component {...this.props} />\r\n      }\r\n   };\r\n////!Соединяем со store, чтобы не делать этого каждый раз в месте вызова HOC`a.\r\n   let connectedRedirectComponent = connect(mapStateToRedirect)(RedirectComponent);\r\n   \r\n   return connectedRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__5lk9k\",\"friendImage\":\"Friend_friendImage__22-4a\",\"friendName\":\"Friend_friendName__1ENaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__2JaJ0\",\"friendsList\":\"Friends_friendsList__E7lKC\",\"friendsTitle\":\"Friends_friendsTitle__3xhBu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Pages_items__QD1Bw\",\"item\":\"Pages_item__3FOZQ\",\"active\":\"Pages_active__3hpdX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__25S7h\",\"usersTitle\":\"Users_usersTitle__2x_ro\",\"usersBody\":\"Users_usersBody__24JOe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__3StTK\",\"myPosts__title\":\"MyPosts_myPosts__title__3cw_Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts__addNews\":\"NewPost_myPosts__addNews__1VDdW\",\"newPostAddNews\":\"NewPost_newPostAddNews__1yNFC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPresent\":\"UserPresent_userPresent__1I9MT\",\"userAvatar\":\"UserPresent_userAvatar__2A63N\",\"userFollowed\":\"UserPresent_userFollowed__1qnrd\"};"],"sourceRoot":""}
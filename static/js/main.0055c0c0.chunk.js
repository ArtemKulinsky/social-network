/*! For license information please see main.0055c0c0.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(36),r=n(3),s="ADD-MESSAGE",a={dialogs:[{id:1,name:"Grigoriy Kuznezov"},{id:2,name:"Nikolay Latkin"},{id:3,name:"Vladimir Tashinskiy"},{id:4,name:"Maksim Sokolov"},{id:5,name:"Elmira Abramova"},{id:6,name:"Artem Schiva"}],messages:[{id:1,message:"\u0412\u0435\u0440\u043d\u0438 3 \u0441\u043e\u0442\u043a\u0438",belong:"opponent"},{id:2,message:"\u042f \u0441\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u044f\u0442",belong:"user"},{id:3,message:"\u041a\u043e\u0433\u0434\u0430 \u0441\u043c\u043e\u0436\u0435\u0448\u044c?",belong:"opponent"},{id:4,message:"\u042f \u0442\u0435 \u0433\u043e\u0432\u043e\u0440\u044e \u0437\u0430\u043d\u044f\u0442 \u044f",belong:"user"},{id:5,message:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!",belong:"opponent"},{id:6,message:"\u041f\u043e\u0448\u0435\u043b \u043d\u0430\u0445\u0443\u0439 \u043f\u0438\u0434\u043e\u0440\u0430\u0441 \u0433\u043d\u0438\u043b\u043e\u0439 \u0441\u0434\u043e\u0445\u043d\u0438 \u0442\u0432\u0430\u0440\u044c",belong:"user"},{id:7,message:"\u0412\u0435\u0440\u043d\u0438 3 \u0441\u043e\u0442\u043a\u0438",belong:"opponent"},{id:8,message:"\u042f \u0441\u0435\u0439\u0447\u0430\u0441 \u0437\u0430\u043d\u044f\u0442",belong:"user"},{id:9,message:"\u041a\u043e\u0433\u0434\u0430 \u0441\u043c\u043e\u0436\u0435\u0448\u044c?",belong:"opponent"},{id:10,message:"\u042f \u0442\u0435 \u0433\u043e\u0432\u043e\u0440\u044e \u0437\u0430\u043d\u044f\u0442 \u044f",belong:"user"},{id:11,message:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439 \u0442\u0440\u0438 \u0441\u043e\u0442\u043a\u0438, \u0445\u0443\u0439\u043b\u043e!",belong:"opponent"},{id:12,message:"\u041f\u043e\u0448\u0435\u043b \u043d\u0430\u0445\u0443\u0439 \u043f\u0438\u0434\u043e\u0440\u0430\u0441 \u0433\u043d\u0438\u043b\u043e\u0439 \u0441\u0434\u043e\u0445\u043d\u0438 \u0442\u0432\u0430\u0440\u044c",belong:"user"}]},i=function(e){return{type:s,newMessageBody:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n={id:e.messages.length+1,message:t.newMessageBody,belong:"user"},i=Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(o.a)(e.messages),[n])});return i;default:return e}}},134:function(e,t,n){e.exports={aside:"Aside_aside__3RdYS",friends:"Aside_friends__2JoVw",friend:"Aside_friend__2pu35",friendImage:"Aside_friendImage__2eF7y",friendName:"Aside_friendName__2bn9e"}},138:function(e,t,n){e.exports={item:"Post_item__2lpRt"}},139:function(e,t,n){e.exports={posts:"Posts_posts__3gQ2j"}},140:function(e,t,n){e.exports={statusForm:"StatusForm_statusForm__22aso"}},142:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__39Hvh"}},143:function(e,t,n){e.exports={user:"User_user__3DM6v"}},144:function(e,t,n){e.exports={userFollowed:"FollowButton_userFollowed__lKMuO"}},145:function(e,t,n){e.exports={usersList:"UsersList_usersList__3MPxx",selectedPage:"UsersList_selectedPage__bQTsE"}},180:function(e,t,n){},204:function(e,t,n){},24:function(e,t,n){e.exports={form:"LoginForm_form__1cLTW",formContainer:"LoginForm_formContainer__3kXG2",inputField:"LoginForm_inputField__1dhtc",login:"LoginForm_login__30kx_",password:"LoginForm_password__haV4O",remember:"LoginForm_remember__O8fwi",submit:"LoginForm_submit__3SfZ7",formSummaryError:"LoginForm_formSummaryError__1H-Zb"}},304:function(e,t,n){e.exports={statusForm:"ProfileStatus_statusForm__1qAlV"}},305:function(e,t,n){e.exports={profileInformation:"Checkboxes_profileInformation__34iNq",avatar_field:"Checkboxes_avatar_field__26aqb",avatar_photo:"Checkboxes_avatar_photo__2ECPq",avatar_settings:"Checkboxes_avatar_settings__27vMX",avatar_changePhoto:"Checkboxes_avatar_changePhoto__TThvX",profileInformation__text:"Checkboxes_profileInformation__text__3p5pv",text_item:"Checkboxes_text_item__h-G2M",text__name:"Checkboxes_text__name__mm5SL"}},306:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t),n.d(t,"rerenderEntireTree",(function(){return hn}));var o,r=n(1),s=n.n(r),a=n(66),i=n.n(a),c=n(38),u=n(39),l=n(41),f=n(40),d=n(11),m=n(9),b=n(18),p=n(7),j=(n(180),n(134)),g=n.n(j),h=n(71),_=n.n(h),O=n(0),x=function(e){return Object(O.jsxs)("div",{className:_.a.friend,children:[Object(O.jsx)("div",{className:_.a.friendImage,children:Object(O.jsx)("img",{})}),Object(O.jsx)("div",{className:_.a.friendName,children:e.name})]})},P=n(72),I=n.n(P),v=function(e){return Object(O.jsxs)("div",{className:I.a.friends,children:[Object(O.jsx)("div",{className:I.a.friendsTitle,children:"Friends"}),Object(O.jsx)("div",{className:I.a.friendsList,children:e.friends.map((function(e){return Object(O.jsx)(x,{name:e.name},e.id)}))})]})},w=n(73),F=n.n(w),k=function(e){return Object(O.jsx)("ul",{className:F.a.items,children:e.pages.map((function(e){return Object(O.jsx)("li",{className:F.a.item,children:Object(O.jsx)(b.b,{to:e.NavLink,activeClassName:F.a.active,children:e.name})},e.id)}))})},N=Object(p.d)(Object(d.b)((function(e){return{pages:e.asideReducer.pages,friends:e.asideReducer.friends}}),null))((function(e){return Object(O.jsxs)("aside",{className:g.a.aside,children:[Object(O.jsx)(k,{pages:e.pages}),Object(O.jsx)(v,{friends:e.friends})]})})),y=n(3),C=n(56),S=n.n(C),L=function(e){return Object(O.jsxs)("header",{className:S.a.header,children:[Object(O.jsx)("div",{className:S.a.loginContainer,children:Object(O.jsx)("div",{className:S.a.login,children:e.isAuth?e.login:Object(O.jsx)(b.b,{to:"/login",children:"Login"})})}),Object(O.jsx)("div",{className:S.a.logout,children:e.isAuth&&Object(O.jsx)("button",{onClick:e.LogoutUser,children:"Logout"})})]})},A=n(12),T=n.n(A),E=n(19),U=n(26),R=n(50),M=n.n(R),J=M.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"6937657e-e964-4c15-9936-04c475fabf96"}}),D={getUsers:function(e,t){return J.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollowUser:function(e){return J.delete("follow/".concat(e)).then((function(e){return e.data}))},followUser:function(e){return J.post("follow/".concat(e)).then((function(e){return e.data}))}},z=function(){return J.get("auth/me").then((function(e){return e.data.data}))},H=function(e,t,n){return J.post("auth/login",{email:e,password:t,rememberMe:n})},V=function(){return J.delete("auth/login")},G=function(e){return J.get("profile/".concat(e)).then((function(e){return e.data}))},B=function(e){return J.get("/profile/status/".concat(e))},q=function(e){return J.put("profile/status",{status:e})},X=function(e){return J.put("/profile/photo",e,{headers:{"API-KEY":"6937657e-e964-4c15-9936-04c475fabf96","Content-Type":"multipart/form-data"}})},K=function(e){return J.put("/profile",e)},Y="SET_USER_DATA",Q="RE_AUTH_USER",W={userId:null,email:null,login:null,isAuth:!1},Z=function(e,t,n,o){return{type:Y,data:{userId:e,email:t,login:n,isAuth:o}}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(y.a)(Object(y.a)({},e),t.data);case Q:return Object(y.a)({},e);default:return e}},ee=function(){return function(){var e=Object(E.a)(T.a.mark((function e(t){var n,o,r,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:(n=e.sent).login&&(o=n.id,r=n.email,s=n.login,t(Z(o,r,s,!0)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},te=function(e,t,n){return function(){var o=Object(E.a)(T.a.mark((function o(r){var s,a;return T.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,H(e,t,n);case 2:0===(s=o.sent).data.resultCode?r(ee()):(a=s.data.messages>0?s.data.messages[0]:"Some error",r(Object(U.a)("login",{_error:a})));case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},ne=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsx)(L,Object(y.a)({},this.props))}}]),n}(s.a.Component),oe=Object(p.d)(Object(d.b)((function(e){return{userId:e.auth.userId,email:e.auth.email,login:e.auth.login,isAuth:e.auth.isAuth}}),{LoginUser:te,LogoutUser:function(){return function(){var e=Object(E.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:0===e.sent.data.resultCode&&t(Z(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(ne),re=(n(204),n(129)),se=n(130),ae=function(e){if(!e)return"Field is required"},ie=n(135),ce=n(57),ue=n.n(ce),le=function(e){return function(t){var n=t.input,o=t.meta,r=Object(ie.a)(t,["input","meta"]),s=o.error&&o.touched;return Object(O.jsxs)("div",{className:ue.a.textAreaContainer,children:[Object(O.jsx)(e,Object(y.a)(Object(y.a)(Object(y.a)({},n),r),{},{className:ue.a.textArea+" "+(s?ue.a.error:"")})),Object(O.jsx)("span",{className:ue.a.errorDescription,children:s?o.error:""})]})}},fe=n(24),de=n.n(fe),me=le("input"),be=Object(se.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(O.jsx)("div",{className:de.a.formContainer,children:Object(O.jsxs)("form",{onSubmit:t,className:de.a.form,children:[Object(O.jsx)("div",{className:de.a.login+" "+de.a.inputField,children:Object(O.jsx)(re.a,{validate:[ae],placeholder:"email",name:"email",component:me})}),Object(O.jsx)("div",{className:de.a.password+" "+de.a.inputField,children:Object(O.jsx)(re.a,{validate:[ae],placeholder:"password",name:"password",type:"password",component:me})}),n&&Object(O.jsx)("div",{className:de.a.formSummaryError,children:n}),Object(O.jsxs)("label",{className:de.a.remember,children:[Object(O.jsx)(re.a,{type:"checkbox",name:"rememberMe",id:"",component:"input"}),Object(O.jsx)("span",{children:"Remember me"})]}),Object(O.jsx)("div",{className:de.a.submit,children:Object(O.jsx)("button",{children:"Login"})})]})})})),pe=Object(p.d)(Object(d.b)((function(e){return{userid:e.auth.userId,isAuth:e.auth.isAuth}}),{LoginUser:te}))((function(e){return e.isAuth?Object(O.jsx)(m.a,{to:"/profile"}):Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsx)(be,{onSubmit:function(t){e.LoginUser(t.email,t.password,t.remembeMe)}})]})})),je=n(96),ge=n.n(je),he=n(138),_e=n.n(he),Oe=function(e){return Object(O.jsxs)("div",{className:_e.a.item,children:[Object(O.jsx)("img",{src:"http://lamcdn.net/furfurmag.ru/post_image-image/UVXRb-V4bbqu3mypKBCfgg-article.jpg"}),Object(O.jsx)("div",{className:"itemText",children:e.message}),Object(O.jsxs)("div",{children:["Likes: ",e.likesCount]})]})},xe=n(139),Pe=n.n(xe),Ie=function(e){return Object(O.jsx)("div",{className:Pe.a.posts,children:e.posts.map((function(e){return Object(O.jsx)(Oe,{message:e.message,likesCount:e.likesCount},e.id)}))})},ve=n(97),we=n.n(ve),Fe=(o=50,function(e){if(e&&e.length>o)return"The maximum number of characters is ".concat(o)}),ke=le("textarea"),Ne=Object(se.a)({form:"newPost"})((function(e){return Object(O.jsx)("div",{className:we.a.newPost,children:Object(O.jsxs)("form",{onSubmit:e.handleSubmit,className:we.a.newPostAddNews,children:[Object(O.jsx)(re.a,{name:"newPost",placeholder:"your news...",validate:[ae,Fe],component:ke}),Object(O.jsx)("button",{children:"Send"})]})})})),ye=s.a.memo((function(e){return Object(O.jsxs)("section",{className:ge.a.myPosts,children:[Object(O.jsx)("h2",{className:ge.a.myPosts__title,children:e.isOwner?"My posts":"Posts"}),e.isOwner&&Object(O.jsx)(Ne,{onSubmit:function(t){e.addPost(t.newPost)}.bind(undefined),submitted:e.submitted}),Object(O.jsx)(Ie,{isOwner:e.isOwner,posts:e.myPosts.posts})]})})),Ce=n(46),Se=n.n(Ce),Le=n(45),Ae=(n(304),n(140)),Te=n.n(Ae),Ee=Object(p.d)(Object(d.b)((function(e){return{initialValues:{status:e.profileReducer.status},enableReinitialize:!0}}),null),Object(se.a)({form:"status"}))((function(e){return Object(O.jsxs)("form",{onSubmit:e.handleSubmit,className:Te.a.statusForm,children:[Object(O.jsx)(re.a,{autoFocus:"true",type:"text",name:"status",id:"",component:"input"}),Object(O.jsx)("button",{type:"submit",children:"UpdateStatus"})]})})),Ue=function(e){var t=Object(r.useState)(!1),n=Object(Le.a)(t,2),o=n[0],s=n[1];return Object(O.jsx)("div",{onDoubleClick:function(){return s(!0)},children:Object(O.jsxs)("span",{children:["Status:",o?Object(O.jsx)(Ee,{status:e.status,setEditMode:s,onSubmit:function(t){e.updateProfileStatus(t.status,e.myId),s(!1)}}):e.status]})})},Re=n.p+"static/media/1473.0f0c7a6c.gif",Me=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:Re})})},Je=n(132),De=(n(305),function(e){return Object(O.jsxs)("fieldset",{children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"Yes"}),Object(O.jsx)("input",{name:"loogingForaJoB",value:"Yes",type:"radio",checked:e.LookingForAJobFormValue,onClick:function(){return e.change("lookingForAJob",!0)}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"No"}),Object(O.jsx)("input",{name:"loogingForaJoB",value:"No",type:"radio",checked:!e.LookingForAJobFormValue,onClick:function(){return e.change("lookingForAJob",!1)}})]})]})}),ze=n(31),He=n.n(ze),Ve=function(e){return Object(O.jsxs)("div",{children:[e.contactTitlle,":",e.editMode?Object(O.jsx)(re.a,{name:e.contactTitlle,component:"input"}):e.contactValue]})},Ge=Object(Je.a)("profileInformation"),Be=Object(p.d)(Object(d.b)((function(e){return{LookingForAJobFormValue:Ge(e,"lookingForAJob"),initialValues:{fullName:e.profileReducer.profileInformation.fullName,aboutMe:e.profileReducer.profileInformation.aboutMe,lookingForAJob:e.profileReducer.profileInformation.lookingForAJob,lookingForAJobDescription:e.profileReducer.profileInformation.lookingForAJobDescription,github:e.profileReducer.profileInformation.contacts.github,vk:e.profileReducer.profileInformation.contacts.vk,facebook:e.profileReducer.profileInformation.contacts.facebook,instagram:e.profileReducer.profileInformation.contacts.instagram,twitter:e.profileReducer.profileInformation.contacts.twitter,website:e.profileReducer.profileInformation.contacts.website,youtube:e.profileReducer.profileInformation.contacts.youtube,mainLink:e.profileReducer.profileInformation.contacts.mainLink},enableReinitialize:!0}}),null),Object(se.a)({form:"profileInformation"}))((function(e){var t=Object(r.useState)(!1),n=Object(Le.a)(t,2),o=n[0],s=n[1];return Object(O.jsxs)("form",{onSubmit:e.handleSubmit,className:"".concat(He.a.profileInformation__text," ").concat(He.a.text),children:[Object(O.jsxs)("div",{className:He.a.text__name+" "+He.a.text_item,children:[e.profileInformation.fullName?e.profileInformation.fullName:"Noname",o&&Object(O.jsx)(re.a,{name:"fullName",component:"input"})]}),Object(O.jsxs)("div",{className:He.a.text_item,children:["About me:",o?Object(O.jsx)(re.a,{name:"aboutMe",component:"input"}):e.profileInformation.aboutMe]}),Object(O.jsxs)("div",{className:He.a.text_item,children:["Looking for a job:",o?Object(O.jsx)(re.a,{name:"lookingForAJob",change:e.change,component:De,LookingForAJobFormValue:e.LookingForAJobFormValue}):e.profileInformation.lookingForAJob?"Yes":"No"]}),Object(O.jsxs)("div",{className:He.a.text_item,children:["Professional skills:",o?Object(O.jsx)(re.a,{name:"lookingForAJobDescription",component:"input"}):e.profileInformation.lookingForAJobDescription]}),Object(O.jsxs)("div",{children:["Contacts:",Object.entries(e.profileInformation.contacts).map((function(e,t){return Object(O.jsx)(Ve,{contactTitlle:e[0],contactValue:e[1],editMode:o},t)}))]}),o?Object(O.jsx)("button",{onClick:function(){return s(!1)},type:"submit",children:"Update information"}):Object(O.jsx)("button",{onClick:function(e){e.preventDefault(),s(!0)},children:"Change information"})]})})),qe=function(e){return Object(O.jsx)("img",{src:e.photos.large?e.photos.large:"https://www.film.ru/sites/default/files/filefield_paths/maxresdefault_1_24.jpg"})},Xe=function(e){return Object(O.jsxs)("section",{className:Se.a.profileInformation,children:[Object(O.jsxs)("div",{className:Se.a.avatar_field,children:[Object(O.jsx)("div",{className:Se.a.avatar_photo,children:e.profilePhotoIsFetching?Object(O.jsx)(Me,{}):Object(O.jsx)(qe,{photos:e.profileInformation.photos,toggleProfilePhotoIsFetching:e.toggleProfilePhotoIsFetching})}),e.isOwner&&Object(O.jsx)("div",{className:Se.a.avatar_settings,children:Object(O.jsx)("form",{className:Se.a.avatar_changePhoto,children:Object(O.jsx)("input",{type:"file",onChange:function(t){if(t.target.files.length){var n=t.target.files[0];e.updateProfilePhotos(n)}}})})})]}),Object(O.jsx)(Be,{onSubmit:function(t){var n={userId:e.myId,aboutMe:t.aboutMe,photos:{large:e.profileInformation.photos.large,small:e.profileInformation.photos.small},lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName,contacts:{github:t.github,vk:t.vk,facebook:t.facebook,instagram:t.instagram,twitter:t.twitter,website:t.website,youtube:t.youtube,mainLink:t.mainLink}};e.updateProfileInf(n)},profileInformation:e.profileInformation}),Object(O.jsx)(Ue,{myId:e.myId,status:e.status,updateProfileStatus:e.updateProfileStatus})]})},Ke=function(e){return e.isAuth?Object(O.jsxs)("div",{children:[Object(O.jsx)(Xe,{myId:e.myId,status:e.status,profileInformation:e.profileInformation,updateProfileStatus:e.updateProfileStatus,updateProfilePhotos:e.updateProfilePhotos,updateProfileInf:e.updateProfileInf,profilePhotoIsFetching:e.profilePhotoIsFetching,toggleProfilePhotoIsFetching:e.toggleProfilePhotoIsFetching,isOwner:e.isOwner}),Object(O.jsx)(ye,{addPost:e.addPost,updateNewPost:e.updateNewPost,myPosts:e.myPosts,isOwner:e.isOwner})]}):Object(O.jsx)(m.a,{to:"/login"})},Ye=n(75),Qe=n.n(Ye),We=n(36),Ze=void 0,$e="CHANGE_FOLLOW",et="SET_USERS",tt="SET_CURRENT_PAGE",nt="SET_TOTAL_USERS_COUNT",ot="TOGGLE_IS_FETCHING",rt="TOGGLE_FOLLOWING_IN_PROGRESS",st={users:[],maxPagesToShowCount:10,pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,isFollowingInProgress:[]},at=function(e){return{type:$e,userId:e}},it=function(e){return{type:tt,currentPage:e}},ct=function(){return{type:ot}},ut=function(e,t){return{type:rt,isFetching:e,userId:t}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(y.a)(Object(y.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(y.a)(Object(y.a)({},e),{},{followed:!e.followed}):e}))});case et:return Object(y.a)(Object(y.a)({},e),{},{users:Object(We.a)(t.users)});case tt:return Object(y.a)(Object(y.a)({},e),{},{currentPage:t.currentPage});case nt:return Object(y.a)(Object(y.a)({},e),{},{totalUsersCount:t.totalUsersCount});case ot:return Object(y.a)(Object(y.a)({},e),{},{isFetching:!e.isFetching});case rt:return Object(y.a)(Object(y.a)({},e),{},{isFollowingInProgress:t.isFetching?[].concat(Object(We.a)(e.isFollowingInProgress),[t.userId]):e.isFollowingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ft=n(68),dt=n(141),mt=Object(dt.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),bt=function(e){return e.usersPage.maxPagesToShowCount},pt=function(e){return e.usersPage.pageSize},jt=function(e){return e.usersPage.totalUsersCount},gt=function(e){return e.usersPage.currentPage},ht=function(e){return e.usersPage.isFetching},_t=function(e){return e.usersPage.isFollowingInProgress},Ot=n(142),xt=n.n(Ot),Pt=function(e){var t,n=Object(r.useState)(1),o=Object(Le.a)(n,2),s=o[0],a=o[1],i=Math.ceil(e.totalItemsCount/e.maxItemsCount);i&&(t=Math.min(e.maxPagesToShowCount,Math.max(i-s+1,1)));for(var c=[],u=s;u<s+t;u++)c.push(u);return Object(O.jsxs)("div",{children:[s>e.maxPagesToShowCount&&Object(O.jsx)("button",{onClick:function(){return t=e.maxPagesToShowCount,void a(Math.max(s-t,1));var t},children:"Prev"}),c.map((function(t){return Object(O.jsx)("span",{className:t===e.currentPage?xt.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:t},t-1)})),i>=s+e.maxPagesToShowCount&&Object(O.jsx)("button",{onClick:function(){return t=e.maxPagesToShowCount,void a(Math.min(s+t,i));var t},children:"Next"})]})},It=n(143),vt=n.n(It),wt=n(32),Ft=n.n(wt),kt=function(e){return Object(O.jsxs)("section",{className:Ft.a.userInf,children:[Object(O.jsxs)("div",{className:Ft.a.headInf,children:[Object(O.jsx)("p",{className:Ft.a.userFullName,children:e.user.name}),Object(O.jsx)("p",{className:Ft.a.userStatus,children:e.user.status})]}),Object(O.jsxs)("div",{className:Ft.a.userLocation,children:[Object(O.jsx)("p",{className:Ft.a.userLocationCity,children:"props.userInf.location.city"}),Object(O.jsx)("p",{className:Ft.a.userLocationCountry,children:"props.userInf.location.country"})]})]})},Nt=n(144),yt=n.n(Nt),Ct=function(e){return Object(O.jsx)("button",{disabled:e.isFollowingInProgress.some((function(t){return t===e.id})),onClick:function(){e.changeFollow(e.id,e.followed)},className:yt.a.userFollowed,children:e.followed?"folllow":"unfollow"})},St=n(98),Lt=n.n(St),At=function(e){return Object(O.jsxs)("section",{className:Lt.a.userPresent,children:[Object(O.jsx)(b.b,{to:"/profile/"+e.id,children:Object(O.jsx)("div",{className:Lt.a.userAvatar,children:Object(O.jsx)("img",{})})}),Object(O.jsx)(Ct,{id:e.id,followed:e.followed,changeFollow:e.changeFollow,isFollowingInProgress:e.isFollowingInProgress,toggleFollowingInProgress:e.toggleFollowingInProgress})]})},Tt=function(e){return Object(O.jsxs)("div",{className:vt.a.user,children:[Object(O.jsx)(At,{buttons:e.buttons,setButton:e.setButton,id:e.user.id,followed:e.user.followed,changeFollow:e.changeFollow,isFollowingInProgress:e.isFollowingInProgress,toggleFollowingInProgress:e.toggleFollowingInProgress}),Object(O.jsx)(kt,{user:e.user})]})},Et=n(145),Ut=n.n(Et),Rt=function(e){return Object(O.jsxs)("div",{className:Ut.a.usersList,children:[Object(O.jsx)(Pt,{totalItemsCount:e.totalUsersCount,maxPagesToShowCount:e.maxPagesToShowCount,maxItemsCount:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),e.users.map((function(t){return Object(O.jsx)(Tt,{isFollowingInProgress:e.isFollowingInProgress,toggleFollowingInProgress:e.toggleFollowingInProgress,changeFollow:e.changeFollow,user:t},t.id)}))]})},Mt=Object(p.d)(Object(d.b)((function(e){return{users:mt(e),maxPagesToShowCount:bt(e),pageSize:pt(e),totalUsersCount:jt(e),currentPage:gt(e),isFetching:ht(e),isFollowingInProgress:_t(e)}}),{changeFollow:function(e,t){return function(){var n=Object(E.a)(T.a.mark((function n(o){var r;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(ut(!0,e)),r=t?D.unfollowUser.bind(Ze):D.followUser.bind(Ze),n.next=4,r(e);case 4:n.sent.resultCode||(o(at(e)),o(ut(!1,e)));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},requestUsers:function(e,t){return function(){var n=Object(E.a)(T.a.mark((function n(o){var r;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(ct()),n.next=3,D.getUsers(e,t);case 3:r=n.sent,o(ct()),o((a=r.items,{type:et,users:a})),o((s=r.totalCount,{type:nt,totalUsersCount:s})),o(it(e));case 8:case"end":return n.stop()}var s,a}),n)})));return function(e){return n.apply(this,arguments)}}()},setCurrentPage:it}),ft.a)((function(e){var t=e.currentPage,n=e.pageSize;Object(r.useEffect)((function(){e.requestUsers(t,n)}),[t,n]);return Object(O.jsxs)(O.Fragment,{children:[e.isFetching?Object(O.jsx)(Me,{}):null,Object(O.jsx)(Rt,{totalUsersCount:e.totalUsersCount,maxPagesToShowCount:e.maxPagesToShowCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:function(t){e.requestUsers(t,e.pageSize)},users:e.users,changeFollow:e.changeFollow,isFollowingInProgress:e.isFollowingInProgress})]})})),Jt=function(e){return Object(O.jsxs)("section",{className:Qe.a.users,children:[Object(O.jsx)("div",{className:Qe.a.usersTitle,children:"Users"}),Object(O.jsx)("div",{className:Qe.a.usersBody,children:Object(O.jsx)(Mt,{})})]})},Dt="SET_INITIALIZE",zt={initialized:!1},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return Object(y.a)(Object(y.a)({},e),{},{initialized:!0});default:return e}},Vt="ADD-POST",Gt="SET_PROFILE_INFORMATION",Bt="SET_PROFILE_STATUS",qt="DELETE_POST",Xt="SET_PROFILE_PHOTOS",Kt="TOGGLE_PROFILE_PHOTO_IS_FETCHING",Yt={profileInformation:{photos:{large:null,small:null,isFetching:!1},fullName:" ",aboutMe:null,lookingForAJob:null,lookingForAJobDescription:null,contacts:{github:null,vk:null,facebook:null,instagram:null,twitter:null,website:null,youtube:null,mainLink:null},id:null},status:"",myPosts:{posts:[{id:0,message:"Hi! How are you?",likesCount:1},{id:1,message:"Hi! How are you?",likesCount:4},{id:2,message:"Hi! How are you?",likesCount:3},{id:3,message:"Hi! How are you?",likesCount:2}]}},Qt=function(e){return{type:Bt,status:e}},Wt=function(e){return{type:Gt,profileInformation:e}},Zt=function(){return{type:Kt}},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt:var n={id:e.myPosts.posts.length,message:t.newPostText,likesCount:0};return Object(y.a)(Object(y.a)({},e),{},{myPosts:Object(y.a)(Object(y.a)({},e.myPosts),{},{posts:[].concat(Object(We.a)(e.myPosts.posts),[n])})});case qt:return Object(y.a)(Object(y.a)({},e),{},{myPosts:Object(y.a)(Object(y.a)({},e.myPosts),{},{posts:e.myPosts.posts.filter((function(e){return e.id!==t.postId}))})});case Gt:return Object(y.a)(Object(y.a)({},e),{},{profileInformation:Object(y.a)(Object(y.a)({},e.profileInformation),{},{photos:Object(y.a)(Object(y.a)({},e.profileInformation.photos),{},{large:t.profileInformation.photos.large,small:t.profileInformation.photos.small}),aboutMe:t.profileInformation.aboutMe,lookingForAJob:t.profileInformation.lookingForAJob,lookingForAJobDescription:t.profileInformation.lookingForAJobDescription,fullName:t.profileInformation.fullName,contacts:{github:t.profileInformation.contacts.github,vk:t.profileInformation.contacts.vk,facebook:t.profileInformation.contacts.facebook,instagram:t.profileInformation.contacts.instagram,twitter:t.profileInformation.contacts.twitter,website:t.profileInformation.contacts.website,youtube:t.profileInformation.contacts.youtube,mainLink:t.profileInformation.contacts.mainLink},id:t.profileInformation.userId})});case Bt:return Object(y.a)(Object(y.a)({},e),{},{status:t.status});case Xt:return Object(y.a)(Object(y.a)({},e),{},{profileInformation:Object(y.a)(Object(y.a)({},e.profileInformation),{},{photos:Object(y.a)(Object(y.a)({},e.profileInformation.photos),{},{large:t.images.large,small:t.images.small})})});case Kt:return Object(y.a)(Object(y.a)({},e),{},{profileInformation:Object(y.a)(Object(y.a)({},e.profileInformation),{},{photos:Object(y.a)(Object(y.a)({},e.profileInformation.photos),{},{isFetching:!e.profileInformation.photos.isFetching})})});default:return e}},en=function(e){return e.profileReducer.profileInformation.photos},tn=function(e){return e.profileReducer.profileInformation.photos.isFetching},nn=Object(p.d)(Object(d.b)((function(e){return{profileInformation:e.profileReducer.profileInformation,myPosts:e.profileReducer.myPosts,status:e.profileReducer.status,photos:en(e),profilePhotoIsFetching:tn(e),myId:e.auth.userId}}),{setProfile:function(e){return function(){var t=Object(E.a)(T.a.mark((function t(n){var o,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Zt()),t.next=3,G(e);case 3:return o=t.sent,n(Wt(o)),t.next=7,B(e);case 7:r=t.sent,n(Qt(r.data)),n(Zt());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addPost:function(e){return{type:Vt,newPostText:e}},updateProfileStatus:function(e){return function(){var t=Object(E.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:0===t.sent.data.resultCode&&n(Qt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfilePhotos:function(e){var t=new FormData;return t.append("image",e),function(){var e=Object(E.a)(T.a.mark((function e(n){var o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Zt()),e.next=3,X(t);case 3:0===(o=e.sent).data.resultCode&&n((r=o.data.data.photos,{type:Xt,images:r})),n(Zt());case 6:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},toggleProfilePhotoIsFetching:Zt,updateProfileInf:function(e){return function(){var t=Object(E.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:0===t.sent.data.resultCode&&n(Wt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),m.f,ft.a)((function(e){var t=e.match.params.userId,n=e.myId;return Object(r.useEffect)((function(){t?e.setProfile(t):e.setProfile(n)}),[t,n]),Object(O.jsx)(Ke,Object(y.a)(Object(y.a)({},e),{},{isOwner:!t}))})),on={pages:[{id:0,name:"Profile",NavLink:"/profile"},{id:1,name:"Messages",NavLink:"/dialogs"},{id:2,name:"News",NavLink:"/news"},{id:3,name:"Music",NavLink:"/music"},{id:4,name:"Setting",NavLink:"/settings"},{id:5,name:"Find Users",NavLink:"/users"}],friends:[{id:1,name:"Grigoriy Kuznezov"},{id:2,name:"Nikolay Latkin"},{id:3,name:"Vladimir Tashinskiy"},{id:4,name:"Maksim Sokolov"},{id:5,name:"Elmira Abramova"},{id:6,name:"Artem Schiva"}]},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return e},sn=n(128),an=n(146),cn=n(131),un=Object(p.c)({auth:$,profileReducer:$t,dialogsReducer:sn.b,asideReducer:rn,usersPage:lt,form:cn.a,app:Ht}),ln=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,fn=Object(p.e)(un,ln(Object(p.a)(an.a)));window.axios=M.a;var dn=fn,mn=s.a.lazy((function(){return n.e(3).then(n.bind(null,313))})),bn=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(oe,{}),Object(O.jsx)(N,{}),Object(O.jsxs)("main",{className:"content",children:[Object(O.jsx)(m.b,{path:"/profile/:userId?",render:function(){return Object(O.jsx)(nn,{})}}),Object(O.jsx)(m.b,{path:"/dialogs",render:function(){return e=mn,Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)(Me,{}),children:Object(O.jsx)(e,{})});var e}}),Object(O.jsx)(m.b,{path:"/news",component:Ke}),Object(O.jsx)(m.b,{path:"/music",component:Ke}),Object(O.jsx)(m.b,{path:"/settings",component:Ke}),Object(O.jsx)(m.b,{path:"/users",render:function(){return Object(O.jsx)(Jt,{})}}),Object(O.jsx)(m.b,{path:"/login",render:function(){return Object(O.jsx)(pe,{})}})]})]}):Object(O.jsx)(Me,{})}}]),n}(s.a.Component),pn=Object(p.d)(m.f,Object(d.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=[];t.push(e(ee())),Promise.all(t).then((function(){e({type:Dt})}))}}}))(bn),jn=function(e){return Object(O.jsx)(b.a,{basename:"/social-network",children:Object(O.jsx)(d.a,{store:dn,children:Object(O.jsx)(pn,{})})})},gn=(n(306),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,312)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),s(e),a(e)}))}),hn=function(e){i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(jn,{appState:e,dispatch:dn.dispatch.bind(dn)})}),document.getElementById("root"))};hn(dn.getState()),dn.subscribe((function(){hn(dn.getState())})),gn()},31:function(e,t,n){e.exports={profileInformation:"ProfileInfForm_profileInformation__NFLpr",avatar_field:"ProfileInfForm_avatar_field__2pMhx",avatar_photo:"ProfileInfForm_avatar_photo__3Unih",avatar_settings:"ProfileInfForm_avatar_settings__1cH2f",avatar_changePhoto:"ProfileInfForm_avatar_changePhoto__13geT",profileInformation__text:"ProfileInfForm_profileInformation__text__2LEQc",text_item:"ProfileInfForm_text_item__3rX4V",text__name:"ProfileInfForm_text__name__1dzL6"}},32:function(e,t,n){e.exports={userInf:"UserInf_userInf__ahEMP",headInf:"UserInf_headInf__tQygY",userFullName:"UserInf_userFullName__gfwWz",userStatus:"UserInf_userStatus__1tOoN",userLocation:"UserInf_userLocation__1Vmek",userLocationCity:"UserInf_userLocationCity__1GHLr",userLocationCountry:"UserInf_userLocationCountry__2Fue2"}},46:function(e,t,n){e.exports={profileInformation:"ProfileInformation_profileInformation__1Vf5q",avatar_field:"ProfileInformation_avatar_field__1h20q",avatar_photo:"ProfileInformation_avatar_photo__KX_I1",avatar_settings:"ProfileInformation_avatar_settings__3QrP3",avatar_changePhoto:"ProfileInformation_avatar_changePhoto__chop6",profileInformation__text:"ProfileInformation_profileInformation__text__20VHi",text__name:"ProfileInformation_text__name__2E3J9"}},56:function(e,t,n){e.exports={header:"Header_header__YMBtf",loginContainer:"Header_loginContainer__1T8h8",login:"Header_login__qXReK",logout:"Header_logout__29yXe"}},57:function(e,t,n){e.exports={textAreaContainer:"FormsControls_textAreaContainer__2wm6S",textArea:"FormsControls_textArea__3d2qV",error:"FormsControls_error__1zw1d",errorDescription:"FormsControls_errorDescription__198kT"}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(3),r=n(38),s=n(39),a=n(41),i=n(40),c=n(1),u=n.n(c),l=n(11),f=n(9),d=n(0),m=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(a.a)(c,t);var n=Object(i.a)(c);function c(){return Object(r.a)(this,c),n.apply(this,arguments)}return Object(s.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(d.jsx)(e,Object(o.a)({},this.props)):Object(d.jsx)(f.a,{to:"/login"})}}]),c}(u.a.Component);return Object(l.b)(m)(t)}},71:function(e,t,n){e.exports={friend:"Friend_friend__5lk9k",friendImage:"Friend_friendImage__22-4a",friendName:"Friend_friendName__1ENaX"}},72:function(e,t,n){e.exports={friends:"Friends_friends__2JaJ0",friendsList:"Friends_friendsList__E7lKC",friendsTitle:"Friends_friendsTitle__3xhBu"}},73:function(e,t,n){e.exports={items:"Pages_items__QD1Bw",item:"Pages_item__3FOZQ",active:"Pages_active__3hpdX"}},75:function(e,t,n){e.exports={users:"Users_users__25S7h",usersTitle:"Users_usersTitle__2x_ro",usersBody:"Users_usersBody__24JOe"}},96:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__3StTK",myPosts__title:"MyPosts_myPosts__title__3cw_Y"}},97:function(e,t,n){e.exports={myPosts__addNews:"NewPost_myPosts__addNews__1VDdW",newPostAddNews:"NewPost_newPostAddNews__1yNFC"}},98:function(e,t,n){e.exports={userPresent:"UserPresent_userPresent__1I9MT",userAvatar:"UserPresent_userAvatar__2A63N",userFollowed:"UserPresent_userFollowed__1qnrd"}}},[[307,1,2]]]);
//# sourceMappingURL=main.0055c0c0.chunk.js.map